
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://wiki.itdata.fr/Database/Oracle/">
      
      
        <link rel="prev" href="../DB2/">
      
      
        <link rel="next" href="../../Docker/Containers/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.11">
    
    
      
        <title>Oracle - Wikidoc</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="deep-orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#requete-user" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Wikidoc" class="md-header__button md-logo" aria-label="Wikidoc" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Wikidoc
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Oracle
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/codium9/wikidoc" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    codium9/wikidoc
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../.." class="md-tabs__link">
          
  
  
    
  
  Welcome

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Linux/Crontab/" class="md-tabs__link">
          
  
  
    
  
  BareMetal

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Code/Python/" class="md-tabs__link">
          
  
  
    
  
  Code

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Git/Tags/" class="md-tabs__link">
          
  
  
    
  
  CICD

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Middleware/Apache/" class="md-tabs__link">
          
  
  
    
  
  Middleware

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Security/OpenSSL/" class="md-tabs__link">
          
  
  
    
  
  Security

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../DB2/" class="md-tabs__link">
          
  
  
    
  
  Database

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Docker/Containers/" class="md-tabs__link">
          
  
  
    
  
  Containers

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Terraform/Terraform/" class="md-tabs__link">
          
  
  
    
  
  Terraform

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Unix/Aix/" class="md-tabs__link">
          
  
  
    
  
  Deprecated

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Wikidoc" class="md-nav__button md-logo" aria-label="Wikidoc" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Wikidoc
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/codium9/wikidoc" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    codium9/wikidoc
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../.." class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Welcome
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Welcome
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    BareMetal
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            BareMetal
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Linux
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            Linux
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/Crontab/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Crontab
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/Firewall/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Firewall
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/LVM/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LVM
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/Init/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Init
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/Command/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OsCommand
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/User-Group/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    User/Group
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Linux/Vim/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Vim
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Windows
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Windows
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Microsoft/Windows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Win_stuff
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Code
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Code
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Code/Python/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Python
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Code/Perl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Perl
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Code/Shell/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Shell
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Code/Powershell/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Powershell
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Code/Curl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Curl
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    CICD
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            CICD
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Git
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            Git
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Git/Tags/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tags
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Middleware
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Middleware
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Middleware/Apache/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Apache
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Middleware/Postfix/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Postfix
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Security
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Security
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Security/OpenSSL/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OpenSSL
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Database
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Database
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../DB2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DB2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Oracle
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Oracle
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#requete-user" class="md-nav__link">
    <span class="md-ellipsis">
      Requête user
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Requête user">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lister-les-schema-dune-base" class="md-nav__link">
    <span class="md-ellipsis">
      Lister les schéma d'une base
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lister-les-usernames-dune-base" class="md-nav__link">
    <span class="md-ellipsis">
      Lister les usernames d'une base
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dropper-un-schema" class="md-nav__link">
    <span class="md-ellipsis">
      Dropper un schéma
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lister-les-schemas-dune-base" class="md-nav__link">
    <span class="md-ellipsis">
      Lister les schémas d'une base
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#killer-une-session" class="md-nav__link">
    <span class="md-ellipsis">
      Killer une session
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lister-les-comptes-verouillles" class="md-nav__link">
    <span class="md-ellipsis">
      Lister les comptes vérouilllés
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changer-le-mdp-dun-utilisateur" class="md-nav__link">
    <span class="md-ellipsis">
      Changer le MDP d'un utilisateur
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deverouiller-un-compte-utilisateur" class="md-nav__link">
    <span class="md-ellipsis">
      Déverouiller un compte utilisateur
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gestion-des-profiles-oracle" class="md-nav__link">
    <span class="md-ellipsis">
      Gestion des profiles oracle
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connaitre-mon-utilisateur-et-schema-actuel" class="md-nav__link">
    <span class="md-ellipsis">
      Connaitre mon utilisateur et schéma actuel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lister-les-sessions-active" class="md-nav__link">
    <span class="md-ellipsis">
      Lister les sessions active
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#affichier-les-verrous" class="md-nav__link">
    <span class="md-ellipsis">
      Affichier les verrous
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lister-les-roles-dun-utilisateur" class="md-nav__link">
    <span class="md-ellipsis">
      Lister les rôles d'un utilisateur
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lister-les-privileges-dun-role" class="md-nav__link">
    <span class="md-ellipsis">
      Lister les privilèges d'un rôle
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#trigger" class="md-nav__link">
    <span class="md-ellipsis">
      Trigger
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Trigger">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generer-ordre-de-suppression-trigger" class="md-nav__link">
    <span class="md-ellipsis">
      Générer ordre de suppression trigger
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tablespace" class="md-nav__link">
    <span class="md-ellipsis">
      Tablespace
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tablespace">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lister-les-tablespaces-par-defaut-dun-user-sysdba" class="md-nav__link">
    <span class="md-ellipsis">
      Lister les tablespaces par défaut d'un user (sysdba)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lister-les-tablespaces-par-defaut-dun-user" class="md-nav__link">
    <span class="md-ellipsis">
      Lister les tablespaces par défaut d'un user
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lister-les-tablespaces-taille-alloue-occupe-libre" class="md-nav__link">
    <span class="md-ellipsis">
      Lister les tablespaces + taille (Alloué - occupé - libre)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lister-les-tablespaces-fichier-et-status" class="md-nav__link">
    <span class="md-ellipsis">
      Lister les tablespaces + fichier et status
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supprimer-un-tablespace" class="md-nav__link">
    <span class="md-ellipsis">
      Supprimer un tablespace
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verifier-le-contenu-du-tablespace-sysaux" class="md-nav__link">
    <span class="md-ellipsis">
      Vérifier le contenu du tablespace SYSAUX
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#savoir-si-un-tablespace-est-en-autoextend" class="md-nav__link">
    <span class="md-ellipsis">
      Savoir si un tablespace est en "Autoextend"
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#voir-qui-utilise-le-tablespace-temp" class="md-nav__link">
    <span class="md-ellipsis">
      Voir qui utilise le tablespace TEMP
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tables" class="md-nav__link">
    <span class="md-ellipsis">
      Tables
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lister-les-tables-dun-schema" class="md-nav__link">
    <span class="md-ellipsis">
      Lister les tables d'un schéma
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lister-les-tables-dun-utilisateur" class="md-nav__link">
    <span class="md-ellipsis">
      Lister les tables d'un utilisateur
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compter-le-nombre-de-tables-dun-schema" class="md-nav__link">
    <span class="md-ellipsis">
      Compter le nombre de tables d'un schéma
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vider-une-table" class="md-nav__link">
    <span class="md-ellipsis">
      Vider une table
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supprimer-une-table" class="md-nav__link">
    <span class="md-ellipsis">
      Supprimer une table
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generer-ordre-sql-grant-table" class="md-nav__link">
    <span class="md-ellipsis">
      Générer ordre SQL "Grant Table"
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lister-les-colonnes-dune-table" class="md-nav__link">
    <span class="md-ellipsis">
      Lister les colonnes d'une table
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sauvegarderestauration-rman" class="md-nav__link">
    <span class="md-ellipsis">
      Sauvegarde/Restauration RMAN
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sauvegarde/Restauration RMAN">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#connaitre-les-bases-listes-sur-rman" class="md-nav__link">
    <span class="md-ellipsis">
      Connaitre les bases listés sur RMAN
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restauration-des-archivelogs-a-partir-dun-backup-rman" class="md-nav__link">
    <span class="md-ellipsis">
      Restauration des archivelogs à partir d'un backup RMAN
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supprimer-des-archlogs-depuis-rman" class="md-nav__link">
    <span class="md-ellipsis">
      Supprimer des archlogs depuis RMAN
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connaitre-la-quantite-darchlogs-genere-par-jour" class="md-nav__link">
    <span class="md-ellipsis">
      Connaitre la quantité d'archlogs généré par jour
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connaitre-le-nombre-darchlogs-genere-par-heure-chaque-jour" class="md-nav__link">
    <span class="md-ellipsis">
      Connaitre le nombre d'archlogs généré par heure chaque jour
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#datapump" class="md-nav__link">
    <span class="md-ellipsis">
      Datapump
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Datapump">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#realiser-un-export-datapump" class="md-nav__link">
    <span class="md-ellipsis">
      Réaliser un export DATAPUMP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#realiser-un-import-datapump" class="md-nav__link">
    <span class="md-ellipsis">
      Réaliser un import DATAPUMP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#import-avec-remap-schema" class="md-nav__link">
    <span class="md-ellipsis">
      Import avec remap schéma
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#purger-les-donnees-dun-schema" class="md-nav__link">
    <span class="md-ellipsis">
      Purger les données d'un schéma
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#purger-la-corbeille" class="md-nav__link">
    <span class="md-ellipsis">
      Purger la corbeille
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gestion-du-directory-datapump" class="md-nav__link">
    <span class="md-ellipsis">
      Gestion du directory DATAPUMP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#monitorer-les-jobs-datapump" class="md-nav__link">
    <span class="md-ellipsis">
      Monitorer les jobs DATAPUMP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#killer-les-jobs-datapump" class="md-nav__link">
    <span class="md-ellipsis">
      Killer les jobs DATAPUMP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dropper-les-jobs-datapump-inutile" class="md-nav__link">
    <span class="md-ellipsis">
      Dropper les jobs DATAPUMP inutile
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#monter-un-partage-cifs-pour-export-datapump" class="md-nav__link">
    <span class="md-ellipsis">
      Monter un partage CIFS pour export DATAPUMP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#voir-le-transfert-pendant-lexport-ou-limport-avec-le-user-sys" class="md-nav__link">
    <span class="md-ellipsis">
      Voir le transfert pendant l'export ou l'import (avec le user SYS)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dataguard" class="md-nav__link">
    <span class="md-ellipsis">
      Dataguard
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dataguard">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#verifier-la-bonne-replication-des-archlogs" class="md-nav__link">
    <span class="md-ellipsis">
      Vérifier la bonne réplication des archlogs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verifier-letat-des-process-darchivage-sur-la-stanby-mrp0-ou-sur-le-primaire-lgwr" class="md-nav__link">
    <span class="md-ellipsis">
      Vérifier l'état des process d'archivage sur la stanby (MRP0) ou sur le primaire (LGWR)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#information-membre-dataguard" class="md-nav__link">
    <span class="md-ellipsis">
      Information membre dataguard
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#message-du-status-dataguard" class="md-nav__link">
    <span class="md-ellipsis">
      Message du status Dataguard
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verifier-quil-ny-a-aucun-gap" class="md-nav__link">
    <span class="md-ellipsis">
      Vérifier qu'il n'y a aucun GAP
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relancer-la-replication-des-archlogs-sur-la-standby" class="md-nav__link">
    <span class="md-ellipsis">
      Relancer la réplication des archlogs sur la STANDBY
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#faire-un-switchover-sans-broker-primaire-puis-standby" class="md-nav__link">
    <span class="md-ellipsis">
      Faire un "switchover" sans broker (primaire puis standby)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creation-dune-standby-par-replication" class="md-nav__link">
    <span class="md-ellipsis">
      Création d'une STANDBY par réplication
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fsfo" class="md-nav__link">
    <span class="md-ellipsis">
      FSFO
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FSFO">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#verifier-le-status-fsfo" class="md-nav__link">
    <span class="md-ellipsis">
      Vérifier le status FSFO
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#temps-de-reconnexion-fsfo" class="md-nav__link">
    <span class="md-ellipsis">
      Temps de reconnexion FSFO
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#datafile" class="md-nav__link">
    <span class="md-ellipsis">
      Datafile
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Datafile">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#resize-datafile" class="md-nav__link">
    <span class="md-ellipsis">
      Resize datafile
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ajout-datafile" class="md-nav__link">
    <span class="md-ellipsis">
      Ajout datafile
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#redolog" class="md-nav__link">
    <span class="md-ellipsis">
      Redolog
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Redolog">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#supprimer-les-redologs" class="md-nav__link">
    <span class="md-ellipsis">
      Supprimer les redologs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#informations-detaillees-sur-ls-redologs-online-only" class="md-nav__link">
    <span class="md-ellipsis">
      Informations détaillées sur ls redologs (ONLINE only)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#infos-redologs-complet" class="md-nav__link">
    <span class="md-ellipsis">
      Infos redologs complet
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#status-redologs" class="md-nav__link">
    <span class="md-ellipsis">
      Status redologs
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#spfile-et-controlfile" class="md-nav__link">
    <span class="md-ellipsis">
      Spfile et Controlfile
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Spfile et Controlfile">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#editer-un-fichier-controlfile-pour-analyse" class="md-nav__link">
    <span class="md-ellipsis">
      Editer un fichier controlfile pour analyse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generer-un-fichier-init-ou-spfile" class="md-nav__link">
    <span class="md-ellipsis">
      Générer un fichier init ou spfile
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#savoir-si-la-base-a-demarre-avec-le-pfile-ou-le-spfile" class="md-nav__link">
    <span class="md-ellipsis">
      Savoir si la base a démarré avec le pfile ou le spfile
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#inclassable" class="md-nav__link">
    <span class="md-ellipsis">
      Inclassable
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Inclassable">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generer-un-rapport-awr" class="md-nav__link">
    <span class="md-ellipsis">
      Générer un rapport AWR
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supprimer-les-anciens-rapport-awr" class="md-nav__link">
    <span class="md-ellipsis">
      Supprimer les anciens rapport AWR
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afficher-et-modifier-les-parametres-systeme" class="md-nav__link">
    <span class="md-ellipsis">
      Afficher et modifier les paramètres système
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afficher-le-dernier-reboot-de-la-base" class="md-nav__link">
    <span class="md-ellipsis">
      Afficher le dernier reboot de la base
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connaitre-les-parametres-de-langue" class="md-nav__link">
    <span class="md-ellipsis">
      Connaitre les paramètres de langue
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#personnaliser-son-sqlplus" class="md-nav__link">
    <span class="md-ellipsis">
      Personnaliser son SQLPLUS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#formater-affichage-sqlplus" class="md-nav__link">
    <span class="md-ellipsis">
      Formater affichage SQLPLUS
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lister-les-objets-invalide" class="md-nav__link">
    <span class="md-ellipsis">
      Lister les objets invalide
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#status-de-la-registry-oracle-catproccatlog" class="md-nav__link">
    <span class="md-ellipsis">
      Status de la registry Oracle (catproc,catlog)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mode-douverture-de-la-base-allowed-ou-restrict" class="md-nav__link">
    <span class="md-ellipsis">
      Mode d'ouverture de la base (ALLOWED ou RESTRICT)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connaitre-les-options-oracle-actives" class="md-nav__link">
    <span class="md-ellipsis">
      Connaitre les options oracle activés
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#afficher-les-services-applicatifs-oracle" class="md-nav__link">
    <span class="md-ellipsis">
      Afficher les services applicatifs oracle
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#personnaliser-son-sqlplus_1" class="md-nav__link">
    <span class="md-ellipsis">
      Personnaliser son SQLPLUS
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Sqlserver.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sqlserver
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Containers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Containers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Docker/Containers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Docker
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Terraform
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Terraform
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Terraform/Terraform/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Terraform
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Deprecated
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Deprecated
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Unix/Aix/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AIX
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Backup/TSM/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    TSM
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Middleware/Weblogic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Weblogic
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Middleware/Websphere/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Websphere
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/codium9/wikidoc/edit/main/docs/Database/Oracle.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/codium9/wikidoc/raw/main/docs/Database/Oracle.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"/></svg>
    </a>
  


  <h1>Oracle</h1>

<h2 id="requete-user">Requête user</h2>
<h3 id="lister-les-schema-dune-base">Lister les schéma d'une base</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="k">distinct</span><span class="w"> </span><span class="k">owner</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dba_objects</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="k">owner</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%&lt;string_to_search&gt;%&#39;</span><span class="p">;</span>
</code></pre></div>
&nbsp;</p>
<h3 id="lister-les-usernames-dune-base">Lister les usernames d'une base</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">all_users</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%&lt;string_to_search&gt;%&#39;</span><span class="p">;</span>
</code></pre></div>
&nbsp;</p>
<h3 id="dropper-un-schema">Dropper un schéma</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">Drop</span><span class="w"> </span><span class="k">user</span><span class="w"> </span><span class="ss">&quot;&amp;user&quot;</span><span class="w"> </span><span class="k">cascade</span><span class="p">;</span>
</code></pre></div>
&nbsp;</p>
<h3 id="lister-les-schemas-dune-base">Lister les schémas d'une base</h3>
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="k">distinct</span><span class="w"> </span><span class="k">owner</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dba_objects</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="k">owner</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;%&lt;string_to_search&gt;%&#39;</span><span class="p">;</span>
</code></pre></div>
<p>&nbsp;</p>
<h3 id="killer-une-session">Killer une session</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">ALTER</span><span class="w"> </span><span class="k">SYSTEM</span><span class="w"> </span><span class="n">KILL</span><span class="w"> </span><span class="k">SESSION</span><span class="w"> </span><span class="s1">&#39;sid,serial#&#39;</span><span class="w"> </span><span class="k">IMMEDIATE</span><span class="p">;</span>
</code></pre></div>
&nbsp;</p>
<h3 id="lister-les-comptes-verouillles">Lister les comptes vérouilllés</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">set</span><span class="w"> </span><span class="n">linesize</span><span class="w"> </span><span class="mi">300</span>
<span class="n">COL</span><span class="w"> </span><span class="ss">&quot;USERNAME&quot;</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">A15</span>
<span class="n">COL</span><span class="w"> </span><span class="ss">&quot;ACCOUNT_STATUS&quot;</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">A20</span>
<span class="n">COL</span><span class="w"> </span><span class="ss">&quot;CREATED&quot;</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">A10</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">username</span><span class="p">,</span><span class="w"> </span><span class="n">account_status</span><span class="p">,</span><span class="w"> </span><span class="n">created</span><span class="p">,</span><span class="w"> </span><span class="n">lock_date</span><span class="p">,</span><span class="w"> </span><span class="n">expiry_date</span><span class="p">,</span><span class="w"> </span><span class="n">profile</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">dba_users</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">account_status</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s1">&#39;OPEN&#39;</span><span class="p">;</span>

<span class="k">set</span><span class="w"> </span><span class="n">linesize</span><span class="w"> </span><span class="mi">300</span>
<span class="n">COL</span><span class="w"> </span><span class="ss">&quot;USERNAME&quot;</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">A15</span>
<span class="n">COL</span><span class="w"> </span><span class="ss">&quot;ACCOUNT_STATUS&quot;</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">A20</span>
<span class="n">COL</span><span class="w"> </span><span class="ss">&quot;CREATED&quot;</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">A10</span>
<span class="k">select</span><span class="w"> </span><span class="n">username</span><span class="p">,</span><span class="w"> </span><span class="n">account_status</span><span class="p">,</span><span class="w"> </span><span class="n">profile</span><span class="p">,</span><span class="w"> </span><span class="n">created</span><span class="p">,</span><span class="w"> </span><span class="n">lock_date</span><span class="p">,</span><span class="n">EXPIRY_DATE</span><span class="p">,</span><span class="w"> </span><span class="n">round</span><span class="p">(</span><span class="n">EXPIRY_DATE</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">SYSDATE</span><span class="p">)</span><span class="w"> </span><span class="n">nb_jour_avant_expiration</span>
<span class="k">from</span><span class="w">   </span><span class="n">dba_users</span>
<span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">nb_jour_avant_expiration</span><span class="p">;</span>
</code></pre></div>
&nbsp;</p>
<h3 id="changer-le-mdp-dun-utilisateur">Changer le MDP d'un utilisateur</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">alter</span><span class="w"> </span><span class="k">user</span><span class="w"> </span><span class="o">&lt;</span><span class="k">user</span><span class="o">&gt;</span><span class="w"> </span><span class="n">identified</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="o">&lt;</span><span class="n">new_password</span><span class="o">&gt;</span><span class="p">;</span>
</code></pre></div>
&nbsp;</p>
<h3 id="deverouiller-un-compte-utilisateur">Déverouiller un compte utilisateur</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">alter</span><span class="w"> </span><span class="k">user</span><span class="w"> </span><span class="o">&lt;</span><span class="k">user</span><span class="o">&gt;</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="n">unlock</span><span class="p">;</span>
</code></pre></div>
&nbsp;</p>
<h3 id="gestion-des-profiles-oracle">Gestion des profiles oracle</h3>
<p><div class="highlight"><pre><span></span><code><span class="n">COL</span><span class="w"> </span><span class="ss">&quot;PROFILE&quot;</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">A15</span>
<span class="n">COL</span><span class="w"> </span><span class="ss">&quot;RESOURCE_NAME&quot;</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">A30</span>
<span class="n">COL</span><span class="w"> </span><span class="ss">&quot;RESOURCE_TYPE&quot;</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">A15</span>
<span class="n">COL</span><span class="w"> </span><span class="ss">&quot;LIMIT&quot;</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">A15</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dba_profiles</span>
</code></pre></div>
&nbsp;</p>
<h3 id="connaitre-mon-utilisateur-et-schema-actuel">Connaitre mon utilisateur et schéma actuel</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">sys_context</span><span class="p">(</span><span class="s1">&#39;USERENV&#39;</span><span class="p">,</span><span class="s1">&#39;SESSION_USER&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">current_user</span><span class="p">,</span><span class="w"> </span><span class="n">sys_context</span><span class="p">(</span><span class="s1">&#39;USERENV&#39;</span><span class="p">,</span><span class="s1">&#39;SESSION_SCHEMA&#39;</span><span class="p">)</span><span class="w"> </span><span class="n">current_schema</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dual</span><span class="p">;</span>
</code></pre></div>
&nbsp;</p>
<h3 id="lister-les-sessions-active">Lister les sessions active</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">set</span><span class="w"> </span><span class="n">echo</span><span class="w"> </span><span class="k">off</span>
<span class="k">set</span><span class="w"> </span><span class="n">feed</span><span class="w"> </span><span class="k">off</span>
<span class="k">set</span><span class="w"> </span><span class="n">linesize</span><span class="w"> </span><span class="mi">512</span>

<span class="k">column</span><span class="w"> </span><span class="n">machine</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="n">a20</span>
<span class="k">column</span><span class="w"> </span><span class="n">osuser</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="n">a10</span>
<span class="k">column</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="n">a30</span>

<span class="k">SELECT</span><span class="w"> </span><span class="n">machine</span><span class="p">,</span><span class="n">process</span><span class="p">,</span><span class="n">osuser</span><span class="p">,</span><span class="n">username</span><span class="p">,</span><span class="n">schemaname</span><span class="p">,</span><span class="n">status</span><span class="p">,</span><span class="n">lockwait</span><span class="p">,</span><span class="n">sid</span><span class="p">,</span><span class="nb">serial</span><span class="o">#</span><span class="p">,</span><span class="n">module</span><span class="p">,</span><span class="n">action</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">v$session</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span>
<span class="k">AND</span><span class="w"> </span><span class="n">osuser</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">null</span>
<span class="k">AND</span><span class="w"> </span><span class="n">STATUS</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s1">&#39;INACTIVE&#39;</span>
<span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">machine</span><span class="p">,</span><span class="n">osuser</span><span class="p">,</span><span class="n">username</span><span class="p">,</span><span class="n">schemaname</span><span class="p">,</span><span class="n">status</span><span class="p">,</span><span class="n">module</span><span class="p">;</span>
</code></pre></div>
&nbsp;</p>
<h3 id="affichier-les-verrous">Affichier les verrous</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">SET</span><span class="w"> </span><span class="n">echo</span><span class="w"> </span><span class="k">off</span>
<span class="w">    </span><span class="k">SET</span><span class="w"> </span><span class="n">feedback</span><span class="w"> </span><span class="k">off</span>
<span class="w">    </span><span class="k">SET</span><span class="w"> </span><span class="n">linesize</span><span class="w"> </span><span class="mi">512</span>

<span class="w">    </span><span class="n">prompt</span><span class="w"> </span><span class="c1">-----------------------</span>
<span class="w">    </span><span class="n">prompt</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Verrous</span><span class="w"> </span><span class="n">sur</span><span class="w"> </span><span class="n">la</span><span class="w"> </span><span class="n">base</span><span class="w"> </span><span class="o">-</span>
<span class="w">    </span><span class="n">prompt</span><span class="w"> </span><span class="c1">-----------------------</span>

<span class="w">    </span><span class="k">COLUMN</span><span class="w"> </span><span class="n">sid</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="mi">999</span><span class="w"> </span><span class="n">heading</span><span class="w"> </span><span class="ss">&quot;SID&quot;</span>
<span class="w">    </span><span class="k">COLUMN</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="n">a10</span><span class="w"> </span><span class="n">heading</span><span class="w"> </span><span class="ss">&quot;Utilisateur&quot;</span>
<span class="w">    </span><span class="k">COLUMN</span><span class="w"> </span><span class="n">machine</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="n">a20</span><span class="w"> </span><span class="n">heading</span><span class="w"> </span><span class="ss">&quot;Nom Machine&quot;</span>
<span class="w">    </span><span class="k">COLUMN</span><span class="w"> </span><span class="n">object_name</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="n">a20</span><span class="w"> </span><span class="n">heading</span><span class="w"> </span><span class="ss">&quot;Nom objet&quot;</span>
<span class="w">    </span><span class="k">COLUMN</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="n">a4</span><span class="w"> </span><span class="n">heading</span><span class="w"> </span><span class="ss">&quot;Type&quot;</span>
<span class="w">    </span><span class="k">COLUMN</span><span class="w"> </span><span class="n">lmode</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="n">a20</span><span class="w"> </span><span class="n">heading</span><span class="w"> </span><span class="ss">&quot;Mode de verrouillage&quot;</span>
<span class="w">    </span><span class="k">COLUMN</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="mi">9999999</span><span class="w"> </span><span class="n">heading</span><span class="w"> </span><span class="ss">&quot;Request Mode&quot;</span>
<span class="w">    </span><span class="k">COLUMN</span><span class="w"> </span><span class="n">block</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="mi">9999999</span><span class="w"> </span><span class="n">heading</span><span class="w"> </span><span class="ss">&quot;Lock Blocking&quot;</span>

<span class="w">    </span><span class="k">SELECT</span>
<span class="w">    </span><span class="n">s</span><span class="p">.</span><span class="n">sid</span><span class="w"> </span><span class="n">sid</span><span class="p">,</span>
<span class="w">    </span><span class="n">s</span><span class="p">.</span><span class="n">username</span><span class="w"> </span><span class="n">username</span><span class="p">,</span>
<span class="w">    </span><span class="n">s</span><span class="p">.</span><span class="n">machine</span><span class="w"> </span><span class="n">machine</span><span class="p">,</span>
<span class="w">    </span><span class="n">l</span><span class="p">.</span><span class="k">type</span><span class="w"> </span><span class="k">type</span><span class="p">,</span>
<span class="w">    </span><span class="n">o</span><span class="p">.</span><span class="n">object_name</span><span class="w"> </span><span class="n">object_name</span><span class="p">,</span>
<span class="w">    </span><span class="n">DECODE</span><span class="p">(</span><span class="n">l</span><span class="p">.</span><span class="n">lmode</span><span class="p">,</span>
<span class="w">    </span><span class="mi">0</span><span class="p">,</span><span class="s1">&#39;None&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;Null&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;Row Share&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="mi">3</span><span class="p">,</span><span class="s1">&#39;Row Exlusive&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="mi">4</span><span class="p">,</span><span class="s1">&#39;Share&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="mi">5</span><span class="p">,</span><span class="s1">&#39;Sh/Row Exlusive&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="mi">6</span><span class="p">,</span><span class="s1">&#39;Exclusive&#39;</span><span class="p">)</span><span class="w"> </span><span class="n">lmode</span><span class="p">,</span>
<span class="w">    </span><span class="n">DECODE</span><span class="p">(</span><span class="n">l</span><span class="p">.</span><span class="n">request</span><span class="p">,</span>
<span class="w">    </span><span class="mi">0</span><span class="p">,</span><span class="s1">&#39;None&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;Null&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="mi">2</span><span class="p">,</span><span class="s1">&#39;Row Share&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="mi">3</span><span class="p">,</span><span class="s1">&#39;Row Exlusive&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="mi">4</span><span class="p">,</span><span class="s1">&#39;Share&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="mi">5</span><span class="p">,</span><span class="s1">&#39;Sh/Row Exlusive&#39;</span><span class="p">,</span>
<span class="w">    </span><span class="mi">6</span><span class="p">,</span><span class="s1">&#39;Exclusive&#39;</span><span class="p">)</span><span class="w"> </span><span class="n">request</span><span class="p">,</span>
<span class="w">    </span><span class="n">l</span><span class="p">.</span><span class="n">block</span><span class="w"> </span><span class="n">block</span>
<span class="w">    </span><span class="k">FROM</span>
<span class="w">    </span><span class="n">v$lock</span><span class="w"> </span><span class="n">l</span><span class="p">,</span>
<span class="w">    </span><span class="n">v$session</span><span class="w"> </span><span class="n">s</span><span class="p">,</span>
<span class="w">    </span><span class="n">dba_objects</span><span class="w"> </span><span class="n">o</span>
<span class="w">    </span><span class="k">WHERE</span>
<span class="w">    </span><span class="n">l</span><span class="p">.</span><span class="n">sid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="p">.</span><span class="n">sid</span>
<span class="w">    </span><span class="k">AND</span>
<span class="w">    </span><span class="n">username</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s1">&#39;SYSTEM&#39;</span>
<span class="w">    </span><span class="k">AND</span>
<span class="w">    </span><span class="n">o</span><span class="p">.</span><span class="n">object_id</span><span class="p">(</span><span class="o">+</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">l</span><span class="p">.</span><span class="n">id1</span><span class="p">;</span><span class="w"> </span>
</code></pre></div>
&nbsp;</p>
<h3 id="lister-les-roles-dun-utilisateur">Lister les rôles d'un utilisateur</h3>
<p><div class="highlight"><pre><span></span><code><span class="n">COL</span><span class="w"> </span><span class="ss">&quot;Utilisateur&quot;</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">A25</span>
<span class="n">COL</span><span class="w"> </span><span class="ss">&quot;Roles&quot;</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">A25</span><span class="w">        </span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">grantee</span><span class="w"> </span><span class="ss">&quot;Utilisateur&quot;</span><span class="p">,</span>
<span class="n">granted_role</span><span class="w"> </span><span class="ss">&quot;Roles&quot;</span><span class="p">,</span>
<span class="n">admin_option</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">dba_role_privs</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">grantee</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&amp;1&#39;</span>
<span class="k">UNION</span>
<span class="w">   </span><span class="k">SELECT</span><span class="w">  </span><span class="n">grantee</span><span class="w"> </span><span class="ss">&quot;Utilisateur&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="n">granted_role</span><span class="w"> </span><span class="ss">&quot;Roles&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="n">admin_option</span>
<span class="w">   </span><span class="k">FROM</span><span class="w"> </span><span class="n">dba_role_privs</span>
<span class="w">   </span><span class="k">WHERE</span><span class="w">  </span><span class="n">grantee</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">granted_role</span>
<span class="w">                      </span><span class="k">FROM</span><span class="w"> </span><span class="n">DBA_ROLE_PRIVS</span>
<span class="w">                      </span><span class="k">WHERE</span><span class="w"> </span><span class="n">grantee</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&amp;1&#39;</span><span class="p">);</span>
</code></pre></div>
&nbsp;</p>
<h3 id="lister-les-privileges-dun-role">Lister les privilèges d'un rôle</h3>
<p><div class="highlight"><pre><span></span><code><span class="n">COL</span><span class="w"> </span><span class="ss">&quot;Roles&quot;</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">A25</span>
<span class="n">COL</span><span class="w"> </span><span class="ss">&quot;Privilege Systeme&quot;</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">A40</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">grantee</span><span class="w"> </span><span class="ss">&quot;Roles&quot;</span><span class="w"> </span><span class="p">,</span>
<span class="n">Privilege</span><span class="w"> </span><span class="ss">&quot;Privilege Systeme&quot;</span><span class="p">,</span>
<span class="n">admin_option</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">dba_sys_privs</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">grantee</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">granted_role</span>
<span class="w">                  </span><span class="k">FROM</span><span class="w"> </span><span class="n">dba_role_privs</span>
<span class="w">                  </span><span class="k">WHERE</span><span class="w"> </span><span class="n">grantee</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&amp;1&#39;</span>
<span class="w">                  </span><span class="k">UNION</span>
<span class="w">                  </span><span class="k">SELECT</span><span class="w"> </span><span class="n">granted_role</span>
<span class="w">                  </span><span class="k">FROM</span><span class="w"> </span><span class="n">dba_role_privs</span>
<span class="w">                  </span><span class="k">WHERE</span><span class="w"> </span><span class="n">grantee</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">granted_role</span>
<span class="w">                  </span><span class="k">FROM</span><span class="w"> </span><span class="n">DBA_ROLE_PRIVS</span>
<span class="w">                  </span><span class="k">WHERE</span><span class="w"> </span><span class="n">grantee</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&amp;1&#39;</span><span class="p">))</span>
<span class="w">                  </span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">DESC</span><span class="p">;</span>
</code></pre></div>
&nbsp;</p>
<h2 id="trigger">Trigger</h2>
<h3 id="generer-ordre-de-suppression-trigger">Générer ordre de suppression trigger</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">Select</span><span class="w"> </span><span class="s1">&#39;drop trigger &#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="k">trigger_name</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s1">&#39;;&#39;</span><span class="w"> </span><span class="n">stmt</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">user_triggers</span><span class="p">;</span>
</code></pre></div>
&nbsp;</p>
<h2 id="tablespace">Tablespace</h2>
<h3 id="lister-les-tablespaces-par-defaut-dun-user-sysdba">Lister les tablespaces par défaut d'un user (sysdba)</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">username</span><span class="p">,</span><span class="n">default_tablespace</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dba_users</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">default_tablespace</span><span class="o">=</span><span class="s1">&#39;TOOLS&#39;</span><span class="p">;</span>
</code></pre></div>
&nbsp;</p>
<h3 id="lister-les-tablespaces-par-defaut-dun-user">Lister les tablespaces par défaut d'un user</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">default_tablespace</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">user_users</span><span class="p">;</span>
</code></pre></div>
&nbsp;</p>
<h3 id="lister-les-tablespaces-taille-alloue-occupe-libre">Lister les tablespaces + taille (Alloué - occupé - libre)</h3>
<p><div class="highlight"><pre><span></span><code><span class="n">clear</span><span class="w"> </span><span class="n">breaks</span>
<span class="n">clear</span><span class="w"> </span><span class="n">computes</span>
<span class="n">clear</span><span class="w"> </span><span class="n">columns</span>
<span class="k">set</span><span class="w"> </span><span class="n">pagesize</span><span class="w"> </span><span class="mi">50</span>
<span class="k">set</span><span class="w"> </span><span class="n">linesize</span><span class="w"> </span><span class="mi">120</span>
<span class="k">set</span><span class="w"> </span><span class="n">heading</span><span class="w"> </span><span class="k">on</span>
<span class="k">column</span><span class="w"> </span><span class="n">tablespace_name</span><span class="w"> </span><span class="n">heading</span><span class="w"> </span><span class="s1">&#39;Tablespace&#39;</span><span class="w"> </span><span class="n">justify</span><span class="w"> </span><span class="k">left</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="n">a20</span><span class="w"> </span><span class="n">truncated</span>
<span class="k">column</span><span class="w"> </span><span class="n">tbsize</span><span class="w"> </span><span class="n">heading</span><span class="w"> </span><span class="s1">&#39;Size (Mb) &#39;</span><span class="w"> </span><span class="n">justify</span><span class="w"> </span><span class="k">left</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="mi">999</span><span class="p">,</span><span class="mi">999</span><span class="p">.</span><span class="mi">99</span>
<span class="k">column</span><span class="w"> </span><span class="n">tbused</span><span class="w"> </span><span class="n">heading</span><span class="w"> </span><span class="s1">&#39;Used (Mb) &#39;</span><span class="w"> </span><span class="n">justify</span><span class="w"> </span><span class="k">right</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="mi">999</span><span class="p">,</span><span class="mi">999</span><span class="p">.</span><span class="mi">99</span>
<span class="k">column</span><span class="w"> </span><span class="n">tbfree</span><span class="w"> </span><span class="n">heading</span><span class="w"> </span><span class="s1">&#39;Free (Mb) &#39;</span><span class="w"> </span><span class="n">justify</span><span class="w"> </span><span class="k">right</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="mi">9</span><span class="p">,</span><span class="mi">999</span><span class="p">,</span><span class="mi">999</span><span class="p">.</span><span class="mi">99</span>
<span class="k">column</span><span class="w"> </span><span class="n">tbusedpct</span><span class="w"> </span><span class="n">heading</span><span class="w"> </span><span class="s1">&#39;Used % &#39;</span><span class="w"> </span><span class="n">justify</span><span class="w"> </span><span class="k">left</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="n">a8</span>
<span class="k">column</span><span class="w"> </span><span class="n">tbfreepct</span><span class="w"> </span><span class="n">heading</span><span class="w"> </span><span class="s1">&#39;Free % &#39;</span><span class="w"> </span><span class="n">justify</span><span class="w"> </span><span class="k">left</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="n">a8</span>
<span class="n">break</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">report</span>
<span class="n">compute</span><span class="w"> </span><span class="k">sum</span><span class="w"> </span><span class="n">label</span><span class="w"> </span><span class="s1">&#39;Totals:&#39;</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">tbsize</span><span class="w"> </span><span class="n">tbused</span><span class="w"> </span><span class="n">tbfree</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">report</span>
<span class="k">select</span><span class="w"> </span><span class="n">t</span><span class="p">.</span><span class="n">tablespace_name</span><span class="p">,</span><span class="w"> </span><span class="n">round</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">bytes</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="n">tbsize</span><span class="p">,</span>
<span class="n">nvl</span><span class="p">(</span><span class="n">round</span><span class="p">(</span><span class="k">c</span><span class="p">.</span><span class="n">bytes</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="s1">&#39;0&#39;</span><span class="p">)</span><span class="w"> </span><span class="n">tbfree</span><span class="p">,</span>
<span class="n">nvl</span><span class="p">(</span><span class="n">round</span><span class="p">(</span><span class="n">b</span><span class="p">.</span><span class="n">bytes</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="s1">&#39;0&#39;</span><span class="p">)</span><span class="w"> </span><span class="n">tbused</span><span class="p">,</span>
<span class="n">to_char</span><span class="p">(</span><span class="n">round</span><span class="p">(</span><span class="mi">100</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">nvl</span><span class="p">(</span><span class="n">b</span><span class="p">.</span><span class="n">bytes</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="o">/</span><span class="n">nvl</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">bytes</span><span class="p">,</span><span class="mi">1</span><span class="p">)),</span><span class="mi">2</span><span class="p">))</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s1">&#39;%&#39;</span><span class="w"> </span><span class="n">tbusedpct</span><span class="p">,</span>
<span class="n">to_char</span><span class="p">(</span><span class="n">round</span><span class="p">(</span><span class="mi">100</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">nvl</span><span class="p">(</span><span class="k">c</span><span class="p">.</span><span class="n">bytes</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span><span class="o">/</span><span class="n">nvl</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">bytes</span><span class="p">,</span><span class="mi">1</span><span class="p">)),</span><span class="mi">2</span><span class="p">))</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s1">&#39;%&#39;</span><span class="w"> </span><span class="n">tbfreepct</span>
<span class="k">from</span><span class="w"> </span><span class="n">dba_tablespaces</span><span class="w"> </span><span class="n">t</span><span class="p">,</span>
<span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">tablespace_name</span><span class="p">,</span><span class="w"> </span><span class="n">round</span><span class="p">(</span><span class="k">sum</span><span class="p">(</span><span class="n">bytes</span><span class="p">)</span><span class="o">/</span><span class="mi">1024</span><span class="o">/</span><span class="mi">1024</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="n">bytes</span>
<span class="k">from</span><span class="w"> </span><span class="n">dba_data_files</span>
<span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">tablespace_name</span>
<span class="k">union</span>
<span class="k">select</span><span class="w"> </span><span class="n">tablespace_name</span><span class="p">,</span><span class="w"> </span><span class="n">round</span><span class="p">(</span><span class="k">sum</span><span class="p">(</span><span class="n">bytes</span><span class="p">)</span><span class="o">/</span><span class="mi">1024</span><span class="o">/</span><span class="mi">1024</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="n">bytes</span>
<span class="k">from</span><span class="w"> </span><span class="n">dba_temp_files</span>
<span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">tablespace_name</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">a</span><span class="p">,</span>
<span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">tablespace_name</span><span class="p">,</span><span class="w"> </span><span class="n">round</span><span class="p">(</span><span class="k">sum</span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">bytes</span><span class="p">)</span><span class="o">/</span><span class="mi">1024</span><span class="o">/</span><span class="mi">1024</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="n">bytes</span>
<span class="k">from</span><span class="w"> </span><span class="n">dba_segments</span><span class="w"> </span><span class="n">e</span>
<span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">tablespace_name</span>
<span class="k">union</span>
<span class="k">select</span><span class="w"> </span><span class="n">tablespace_name</span><span class="p">,</span><span class="w"> </span><span class="k">sum</span><span class="p">(</span><span class="n">max_size</span><span class="p">)</span><span class="w"> </span><span class="n">bytes</span>
<span class="k">from</span><span class="w"> </span><span class="n">v$sort_segment</span>
<span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">tablespace_name</span><span class="p">)</span><span class="w"> </span><span class="n">b</span><span class="p">,</span>
<span class="p">(</span><span class="k">select</span><span class="w"> </span><span class="n">f</span><span class="p">.</span><span class="n">tablespace_name</span><span class="p">,</span><span class="w"> </span><span class="n">round</span><span class="p">(</span><span class="k">sum</span><span class="p">(</span><span class="n">f</span><span class="p">.</span><span class="n">bytes</span><span class="p">)</span><span class="o">/</span><span class="mi">1024</span><span class="o">/</span><span class="mi">1024</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="n">bytes</span>
<span class="k">from</span><span class="w"> </span><span class="n">dba_free_space</span><span class="w"> </span><span class="n">f</span>
<span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">f</span><span class="p">.</span><span class="n">tablespace_name</span>
<span class="k">union</span>
<span class="k">select</span><span class="w"> </span><span class="n">tmp</span><span class="p">.</span><span class="n">tablespace_name</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="k">sum</span><span class="p">(</span><span class="n">bytes</span><span class="o">/</span><span class="mi">1024</span><span class="o">/</span><span class="mi">1024</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="k">sum</span><span class="p">(</span><span class="n">max_size</span><span class="p">))</span><span class="w"> </span><span class="n">bytes</span>
<span class="k">from</span><span class="w"> </span><span class="n">dba_temp_files</span><span class="w"> </span><span class="n">tmp</span><span class="p">,</span><span class="w"> </span><span class="n">v$sort_segment</span><span class="w"> </span><span class="n">sort</span>
<span class="k">where</span><span class="w"> </span><span class="n">tmp</span><span class="p">.</span><span class="n">tablespace_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sort</span><span class="p">.</span><span class="n">tablespace_name</span>
<span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">tmp</span><span class="p">.</span><span class="n">tablespace_name</span><span class="p">)</span><span class="w"> </span><span class="k">c</span>
<span class="k">where</span>
<span class="n">t</span><span class="p">.</span><span class="n">tablespace_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">tablespace_name</span><span class="w"> </span><span class="p">(</span><span class="o">+</span><span class="p">)</span>
<span class="k">and</span><span class="w"> </span><span class="n">t</span><span class="p">.</span><span class="n">tablespace_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">tablespace_name</span><span class="w"> </span><span class="p">(</span><span class="o">+</span><span class="p">)</span>
<span class="k">and</span><span class="w"> </span><span class="n">t</span><span class="p">.</span><span class="n">tablespace_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">c</span><span class="p">.</span><span class="n">tablespace_name</span><span class="w"> </span><span class="p">(</span><span class="o">+</span><span class="p">)</span>
<span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">t</span><span class="p">.</span><span class="n">tablespace_name</span><span class="p">;</span>
</code></pre></div>
&nbsp;</p>
<h3 id="lister-les-tablespaces-fichier-et-status">Lister les tablespaces + fichier et status</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">set</span><span class="w"> </span><span class="n">linesize</span><span class="w"> </span><span class="mi">200</span>
<span class="n">COL</span><span class="w"> </span><span class="ss">&quot;STATUS&quot;</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">A10</span>
<span class="n">COL</span><span class="w"> </span><span class="ss">&quot;TABLESPACE_NAME&quot;</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">A20</span>
<span class="n">COL</span><span class="w"> </span><span class="ss">&quot;FILE_NAME&quot;</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">A80</span>
<span class="k">SELECT</span><span class="w"> </span>
<span class="n">FILE_ID</span><span class="p">,</span><span class="w"> </span><span class="n">STATUS</span><span class="p">,</span><span class="w"> </span><span class="n">TABLESPACE_NAME</span><span class="p">,</span><span class="w"> </span><span class="n">FILE_NAME</span>
<span class="k">FROM</span><span class="w"> </span>
<span class="n">DBA_DATA_FILES</span>
<span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">FILE_ID</span><span class="p">;</span><span class="w"> </span>
</code></pre></div>
&nbsp;</p>
<h3 id="supprimer-un-tablespace">Supprimer un tablespace</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">ALTER</span><span class="w"> </span><span class="k">DATABASE</span><span class="w"> </span><span class="n">DATAFILE</span><span class="w"> </span><span class="s1">&#39;&lt;filename&gt;&#39;</span><span class="w"> </span><span class="n">OFFLINE</span><span class="w"> </span><span class="k">DROP</span><span class="p">;</span>
<span class="k">DROP</span><span class="w"> </span><span class="n">TABLESPACE</span><span class="w"> </span><span class="o">&lt;</span><span class="n">TableSpace</span><span class="o">&gt;</span><span class="p">;</span>
</code></pre></div>
&nbsp;</p>
<h3 id="verifier-le-contenu-du-tablespace-sysaux">Vérifier le contenu du tablespace SYSAUX</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">occupant_desc</span><span class="p">,</span><span class="w"> </span><span class="n">space_usage_kbytes</span><span class="o">/</span><span class="mi">1024</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">usage_GB</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">v$sysaux_occupants</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">space_usage_kbytes</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">space_usage_kbytes</span><span class="w"> </span><span class="k">desc</span><span class="p">;</span>
</code></pre></div>
&nbsp;</p>
<h3 id="savoir-si-un-tablespace-est-en-autoextend">Savoir si un tablespace est en "Autoextend"</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">tablespace_name</span><span class="p">,</span><span class="w"> </span><span class="n">file_name</span><span class="w"> </span><span class="p">,</span><span class="n">AUTOEXTENSIBLE</span><span class="p">,</span><span class="n">MAXBYTES</span><span class="p">,</span><span class="n">INCREMENT_BY</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dba_data_files</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">;</span>
</code></pre></div>
&nbsp;</p>
<h3 id="voir-qui-utilise-le-tablespace-temp">Voir qui utilise le tablespace TEMP</h3>
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">v$sort_usage</span><span class="p">;</span>
</code></pre></div>
<p>&nbsp;</p>
<h2 id="tables">Tables</h2>
<h3 id="lister-les-tables-dun-schema">Lister les tables d'un schéma</h3>
<p>==&gt; D'un utilisateur lambda
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="k">DISTINCT</span><span class="w"> </span><span class="k">OWNER</span><span class="p">,</span><span class="k">TABLE_NAME</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">all_tab_columns</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="k">OWNER</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">‘</span><span class="n">E_CTM</span><span class="err">’</span><span class="p">;</span>
</code></pre></div>
==&gt; D'un utilisateur système
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="k">DISTINCT</span><span class="w"> </span><span class="k">OWNER</span><span class="p">,</span><span class="k">TABLE_NAME</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">dba_tab_columns</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="k">OWNER</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">‘</span><span class="n">E_CTM</span><span class="err">’</span><span class="p">;</span>
</code></pre></div>
&nbsp;</p>
<h3 id="lister-les-tables-dun-utilisateur">Lister les tables d'un utilisateur</h3>
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="k">table_name</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">user_tables</span><span class="p">;</span>
<span class="k">SELECT</span><span class="w"> </span><span class="k">table_name</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">all_tables</span><span class="p">;</span>
</code></pre></div>
<blockquote>
<p class="is-info">all_tables : incluant les tables système (nécéssite les droits DBA)</p>
</blockquote>
<p>&nbsp;</p>
<h3 id="compter-le-nombre-de-tables-dun-schema">Compter le nombre de tables d'un schéma</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">Select</span><span class="w"> </span><span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">),</span><span class="w"> </span><span class="k">owner</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">ALL_TABLES</span><span class="w"> </span><span class="k">group</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="k">owner</span><span class="p">;</span>
</code></pre></div>
&nbsp;</p>
<h3 id="vider-une-table">Vider une table</h3>
<p>==&gt; Un ou plusieurs champs
<div class="highlight"><pre><span></span><code><span class="k">Delete</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="p">[</span><span class="k">table</span><span class="p">]</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="err">‘</span><span class="n">kkechose</span><span class="err">’</span><span class="w"> </span><span class="p">;</span>
</code></pre></div>
==&gt; Une table
<div class="highlight"><pre><span></span><code><span class="k">Truncate</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="p">[</span><span class="k">schema</span><span class="p">].[</span><span class="k">table</span><span class="p">];</span>
</code></pre></div></p>
<p>Si le message suivant apparait :</p>
<blockquote>
<p class="is-danger">ORA-02266: les clés primaires/uniques de la table sont référencées par des clés
étrangères</p>
</blockquote>
<p>ajouter :
<div class="highlight"><pre><span></span><code><span class="k">DROP</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="k">CASCADE</span><span class="p">;</span>
</code></pre></div>
&nbsp;</p>
<h3 id="supprimer-une-table">Supprimer une table</h3>
<div class="highlight"><pre><span></span><code><span class="k">Drop</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="p">[</span><span class="k">table</span><span class="p">]</span><span class="w"> </span><span class="k">cascade</span><span class="w"> </span><span class="k">constraints</span><span class="w"> </span><span class="n">purge</span><span class="p">;</span>
</code></pre></div>
<blockquote>
<p class="is-info">purge = pas possible de faire un rollback sur la table = suppression définitive</p>
</blockquote>
<p>&nbsp;</p>
<h3 id="generer-ordre-sql-grant-table">Générer ordre SQL "Grant Table"</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="s1">&#39;GRANT SELECT ON &#39;</span><span class="o">||</span><span class="k">owner</span><span class="o">||</span><span class="s1">&#39;.&#39;</span><span class="o">||</span><span class="k">table_name</span><span class="o">||</span><span class="s1">&#39; to role&#39;</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">all_tables</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="k">owner</span><span class="o">=</span><span class="s1">&#39;user&#39;</span><span class="p">;</span>
</code></pre></div>
&nbsp;</p>
<h3 id="lister-les-colonnes-dune-table">Lister les colonnes d'une table</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="k">COLUMN_NAME</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">USER_TAB_COLUMNS</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="k">TABLE_NAME</span><span class="o">=</span><span class="s1">&#39;CONFIGURATION&#39;</span><span class="p">;</span>
</code></pre></div>
&nbsp;</p>
<h2 id="sauvegarderestauration-rman">Sauvegarde/Restauration RMAN</h2>
<h3 id="connaitre-les-bases-listes-sur-rman">Connaitre les bases listés sur RMAN</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">set</span><span class="w"> </span><span class="n">linesize</span><span class="w"> </span><span class="mi">1000</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">rman</span><span class="p">.</span><span class="n">rc_database</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="n">NAME</span><span class="p">;</span>
</code></pre></div>
&nbsp;</p>
<h3 id="restauration-des-archivelogs-a-partir-dun-backup-rman">Restauration des archivelogs à partir d'un backup RMAN</h3>
<p><div class="highlight"><pre><span></span><code><span class="n">rman</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="o">/</span>

<span class="n">RUN</span>
<span class="err">{</span>
<span class="w">    </span><span class="k">ALLOCATE</span><span class="w"> </span><span class="n">CHANNEL</span><span class="w"> </span><span class="n">t1</span><span class="w"> </span><span class="n">DEVICE</span><span class="w"> </span><span class="k">TYPE</span><span class="w"> </span><span class="n">disk</span><span class="p">;</span>
<span class="w">    </span><span class="k">set</span><span class="w"> </span><span class="n">archivelog</span><span class="w"> </span><span class="n">destination</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="s1">&#39;/appli/oracle/PCONAT/oraarch/&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="n">restore</span><span class="w"> </span><span class="n">archivelog</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">logseq</span><span class="w"> </span><span class="mi">3490</span><span class="w"> </span><span class="k">until</span><span class="w"> </span><span class="n">logseq</span><span class="w"> </span><span class="mi">3495</span><span class="p">;</span>
<span class="w">    </span><span class="n">release</span><span class="w"> </span><span class="n">channel</span><span class="w"> </span><span class="n">t1</span><span class="p">;</span>
<span class="err">}</span>
</code></pre></div>
&nbsp;</p>
<h3 id="supprimer-des-archlogs-depuis-rman">Supprimer des archlogs depuis RMAN</h3>
<div class="highlight"><pre><span></span><code><span class="n">export</span><span class="w"> </span><span class="n">ORACLE_SID</span><span class="o">=</span><span class="n">XXX</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="n">rman</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="o">/</span>
<span class="n">crosscheck</span><span class="w"> </span><span class="n">archivelog</span><span class="w"> </span><span class="k">all</span><span class="p">;</span><span class="w"> </span><span class="o">#</span><span class="w"> </span><span class="n">vérifier</span><span class="w"> </span><span class="n">les</span><span class="w"> </span><span class="n">aarchlogs</span><span class="w"> </span><span class="n">connus</span><span class="w"> </span><span class="n">depuis</span><span class="w"> </span><span class="n">les</span><span class="w"> </span><span class="n">controlfiles</span>
<span class="k">delete</span><span class="w"> </span><span class="n">noprompt</span><span class="w"> </span><span class="n">expired</span><span class="w"> </span><span class="n">archivelog</span><span class="w"> </span><span class="k">all</span><span class="p">;</span><span class="w">  </span><span class="o">#</span><span class="w"> </span><span class="n">Expiré</span>
<span class="k">delete</span><span class="w"> </span><span class="n">noprompt</span><span class="w"> </span><span class="n">archivelog</span><span class="w"> </span><span class="k">until</span><span class="w"> </span><span class="k">time</span><span class="w"> </span><span class="err">‘</span><span class="n">SYSDATE</span><span class="o">-</span><span class="mi">10</span><span class="err">’</span><span class="p">;</span><span class="w"> </span><span class="o">#</span><span class="w"> </span><span class="n">depuis</span><span class="w"> </span><span class="n">une</span><span class="w"> </span><span class="nb">date</span><span class="w"> </span><span class="n">précise</span>
<span class="k">delete</span><span class="w"> </span><span class="n">noprompt</span><span class="w"> </span><span class="n">obsolete</span><span class="p">;</span><span class="w"> </span>
<span class="k">delete</span><span class="w"> </span><span class="n">archivelog</span><span class="w"> </span><span class="k">all</span><span class="w"> </span><span class="n">backed</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">times</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">disk</span><span class="w"> </span><span class="n">completed</span><span class="w"> </span><span class="k">before</span><span class="w"> </span><span class="s1">&#39;sysdate - 4/24&#39;</span><span class="p">;</span>
</code></pre></div>
<blockquote>
<p class="is-info">Pour cette dernière commande <code>delete</code> , supprimer les archlogs générés depuis les 4 dernières heure et sauvegardé au moins une fois sur disque</p>
</blockquote>
<p>&nbsp;</p>
<h3 id="connaitre-la-quantite-darchlogs-genere-par-jour">Connaitre la quantité d'archlogs généré par jour</h3>
<p><div class="highlight"><pre><span></span><code><span class="w">  </span><span class="k">SELECT</span><span class="w"> </span><span class="n">SUM_ARCH</span><span class="p">.</span><span class="k">DAY</span><span class="p">,</span>
<span class="w">         </span><span class="n">SUM_ARCH</span><span class="p">.</span><span class="n">GENERATED_MB</span><span class="p">,</span>
<span class="w">         </span><span class="n">SUM_ARCH_DEL</span><span class="p">.</span><span class="n">DELETED_MB</span><span class="p">,</span>
<span class="w">         </span><span class="n">SUM_ARCH</span><span class="p">.</span><span class="n">GENERATED_MB</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">SUM_ARCH_DEL</span><span class="p">.</span><span class="n">DELETED_MB</span><span class="w"> </span><span class="ss">&quot;REMAINING_MB&quot;</span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="p">(</span><span class="w">  </span><span class="k">SELECT</span><span class="w"> </span><span class="n">TO_CHAR</span><span class="w"> </span><span class="p">(</span><span class="n">COMPLETION_TIME</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;DD/MM/YYYY&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">DAY</span><span class="p">,</span>
<span class="w">                   </span><span class="k">SUM</span><span class="w"> </span><span class="p">(</span><span class="n">ROUND</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="p">(</span><span class="n">blocks</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">block_size</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="mi">1024</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">1024</span><span class="p">),</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span>
<span class="w">                      </span><span class="n">GENERATED_MB</span>
<span class="w">              </span><span class="k">FROM</span><span class="w"> </span><span class="n">V$ARCHIVED_LOG</span>
<span class="w">             </span><span class="k">WHERE</span><span class="w"> </span><span class="n">ARCHIVED</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;YES&#39;</span>
<span class="w">          </span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">TO_CHAR</span><span class="w"> </span><span class="p">(</span><span class="n">COMPLETION_TIME</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;DD/MM/YYYY&#39;</span><span class="p">))</span><span class="w"> </span><span class="n">SUM_ARCH</span><span class="p">,</span>
<span class="w">         </span><span class="p">(</span><span class="w">  </span><span class="k">SELECT</span><span class="w"> </span><span class="n">TO_CHAR</span><span class="w"> </span><span class="p">(</span><span class="n">COMPLETION_TIME</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;DD/MM/YYYY&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">DAY</span><span class="p">,</span>
<span class="w">                   </span><span class="k">SUM</span><span class="w"> </span><span class="p">(</span><span class="n">ROUND</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="p">(</span><span class="n">blocks</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">block_size</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="mi">1024</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">1024</span><span class="p">),</span><span class="w"> </span><span class="mi">2</span><span class="p">))</span>
<span class="w">                      </span><span class="n">DELETED_MB</span>
<span class="w">              </span><span class="k">FROM</span><span class="w"> </span><span class="n">V$ARCHIVED_LOG</span>
<span class="w">             </span><span class="k">WHERE</span><span class="w"> </span><span class="n">ARCHIVED</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;YES&#39;</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="n">DELETED</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;YES&#39;</span>
<span class="w">          </span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">TO_CHAR</span><span class="w"> </span><span class="p">(</span><span class="n">COMPLETION_TIME</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;DD/MM/YYYY&#39;</span><span class="p">))</span><span class="w"> </span><span class="n">SUM_ARCH_DEL</span>
<span class="w">   </span><span class="k">WHERE</span><span class="w"> </span><span class="n">SUM_ARCH</span><span class="p">.</span><span class="k">DAY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SUM_ARCH_DEL</span><span class="p">.</span><span class="k">DAY</span><span class="p">(</span><span class="o">+</span><span class="p">)</span>
<span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">TO_DATE</span><span class="w"> </span><span class="p">(</span><span class="k">DAY</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;DD/MM/YYYY&#39;</span><span class="p">);</span>
</code></pre></div>
&nbsp;</p>
<h3 id="connaitre-le-nombre-darchlogs-genere-par-heure-chaque-jour">Connaitre le nombre d'archlogs généré par heure chaque jour</h3>
<p><div class="highlight"><pre><span></span><code><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">TO_CHAR</span><span class="w"> </span><span class="p">(</span><span class="n">COMPLETION_TIME</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;DD/MM/YYYY&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">DAY</span><span class="p">,</span>
<span class="w">         </span><span class="k">SUM</span><span class="w"> </span><span class="p">(</span><span class="n">DECODE</span><span class="w"> </span><span class="p">(</span><span class="n">TO_CHAR</span><span class="w"> </span><span class="p">(</span><span class="n">COMPLETION_TIME</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;HH24&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;00&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="p">))</span>
<span class="w">            </span><span class="ss">&quot;00-01&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="k">SUM</span><span class="w"> </span><span class="p">(</span><span class="n">DECODE</span><span class="w"> </span><span class="p">(</span><span class="n">TO_CHAR</span><span class="w"> </span><span class="p">(</span><span class="n">COMPLETION_TIME</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;HH24&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;01&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="p">))</span>
<span class="w">            </span><span class="ss">&quot;01-02&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="k">SUM</span><span class="w"> </span><span class="p">(</span><span class="n">DECODE</span><span class="w"> </span><span class="p">(</span><span class="n">TO_CHAR</span><span class="w"> </span><span class="p">(</span><span class="n">COMPLETION_TIME</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;HH24&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;02&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="p">))</span>
<span class="w">            </span><span class="ss">&quot;02-03&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="k">SUM</span><span class="w"> </span><span class="p">(</span><span class="n">DECODE</span><span class="w"> </span><span class="p">(</span><span class="n">TO_CHAR</span><span class="w"> </span><span class="p">(</span><span class="n">COMPLETION_TIME</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;HH24&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;03&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="p">))</span>
<span class="w">            </span><span class="ss">&quot;03-04&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="k">SUM</span><span class="w"> </span><span class="p">(</span><span class="n">DECODE</span><span class="w"> </span><span class="p">(</span><span class="n">TO_CHAR</span><span class="w"> </span><span class="p">(</span><span class="n">COMPLETION_TIME</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;HH24&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;04&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="p">))</span>
<span class="w">            </span><span class="ss">&quot;04-05&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="k">SUM</span><span class="w"> </span><span class="p">(</span><span class="n">DECODE</span><span class="w"> </span><span class="p">(</span><span class="n">TO_CHAR</span><span class="w"> </span><span class="p">(</span><span class="n">COMPLETION_TIME</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;HH24&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;05&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="p">))</span>
<span class="w">            </span><span class="ss">&quot;05-06&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="k">SUM</span><span class="w"> </span><span class="p">(</span><span class="n">DECODE</span><span class="w"> </span><span class="p">(</span><span class="n">TO_CHAR</span><span class="w"> </span><span class="p">(</span><span class="n">COMPLETION_TIME</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;HH24&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;06&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="p">))</span>
<span class="w">            </span><span class="ss">&quot;06-07&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="k">SUM</span><span class="w"> </span><span class="p">(</span><span class="n">DECODE</span><span class="w"> </span><span class="p">(</span><span class="n">TO_CHAR</span><span class="w"> </span><span class="p">(</span><span class="n">COMPLETION_TIME</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;HH24&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;07&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="p">))</span>
<span class="w">            </span><span class="ss">&quot;07-08&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="k">SUM</span><span class="w"> </span><span class="p">(</span><span class="n">DECODE</span><span class="w"> </span><span class="p">(</span><span class="n">TO_CHAR</span><span class="w"> </span><span class="p">(</span><span class="n">COMPLETION_TIME</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;HH24&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;08&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="p">))</span>
<span class="w">            </span><span class="ss">&quot;08-09&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="k">SUM</span><span class="w"> </span><span class="p">(</span><span class="n">DECODE</span><span class="w"> </span><span class="p">(</span><span class="n">TO_CHAR</span><span class="w"> </span><span class="p">(</span><span class="n">COMPLETION_TIME</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;HH24&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;09&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="p">))</span>
<span class="w">            </span><span class="ss">&quot;09-10&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="k">SUM</span><span class="w"> </span><span class="p">(</span><span class="n">DECODE</span><span class="w"> </span><span class="p">(</span><span class="n">TO_CHAR</span><span class="w"> </span><span class="p">(</span><span class="n">COMPLETION_TIME</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;HH24&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;10&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="p">))</span>
<span class="w">            </span><span class="ss">&quot;10-11&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="k">SUM</span><span class="w"> </span><span class="p">(</span><span class="n">DECODE</span><span class="w"> </span><span class="p">(</span><span class="n">TO_CHAR</span><span class="w"> </span><span class="p">(</span><span class="n">COMPLETION_TIME</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;HH24&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;11&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="p">))</span>
<span class="w">            </span><span class="ss">&quot;11-12&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="k">SUM</span><span class="w"> </span><span class="p">(</span><span class="n">DECODE</span><span class="w"> </span><span class="p">(</span><span class="n">TO_CHAR</span><span class="w"> </span><span class="p">(</span><span class="n">COMPLETION_TIME</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;HH24&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;12&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="p">))</span>
<span class="w">            </span><span class="ss">&quot;12-13&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="k">SUM</span><span class="w"> </span><span class="p">(</span><span class="n">DECODE</span><span class="w"> </span><span class="p">(</span><span class="n">TO_CHAR</span><span class="w"> </span><span class="p">(</span><span class="n">COMPLETION_TIME</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;HH24&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;13&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="p">))</span>
<span class="w">            </span><span class="ss">&quot;13-14&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="k">SUM</span><span class="w"> </span><span class="p">(</span><span class="n">DECODE</span><span class="w"> </span><span class="p">(</span><span class="n">TO_CHAR</span><span class="w"> </span><span class="p">(</span><span class="n">COMPLETION_TIME</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;HH24&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;14&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="p">))</span>
<span class="w">            </span><span class="ss">&quot;14-15&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="k">SUM</span><span class="w"> </span><span class="p">(</span><span class="n">DECODE</span><span class="w"> </span><span class="p">(</span><span class="n">TO_CHAR</span><span class="w"> </span><span class="p">(</span><span class="n">COMPLETION_TIME</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;HH24&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;15&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="p">))</span>
<span class="w">            </span><span class="ss">&quot;15-16&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="k">SUM</span><span class="w"> </span><span class="p">(</span><span class="n">DECODE</span><span class="w"> </span><span class="p">(</span><span class="n">TO_CHAR</span><span class="w"> </span><span class="p">(</span><span class="n">COMPLETION_TIME</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;HH24&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;16&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="p">))</span>
<span class="w">            </span><span class="ss">&quot;16-17&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="k">SUM</span><span class="w"> </span><span class="p">(</span><span class="n">DECODE</span><span class="w"> </span><span class="p">(</span><span class="n">TO_CHAR</span><span class="w"> </span><span class="p">(</span><span class="n">COMPLETION_TIME</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;HH24&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;17&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="p">))</span>
<span class="w">            </span><span class="ss">&quot;17-18&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="k">SUM</span><span class="w"> </span><span class="p">(</span><span class="n">DECODE</span><span class="w"> </span><span class="p">(</span><span class="n">TO_CHAR</span><span class="w"> </span><span class="p">(</span><span class="n">COMPLETION_TIME</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;HH24&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;18&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="p">))</span>
<span class="w">            </span><span class="ss">&quot;18-19&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="k">SUM</span><span class="w"> </span><span class="p">(</span><span class="n">DECODE</span><span class="w"> </span><span class="p">(</span><span class="n">TO_CHAR</span><span class="w"> </span><span class="p">(</span><span class="n">COMPLETION_TIME</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;HH24&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;19&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="p">))</span>
<span class="w">            </span><span class="ss">&quot;19-20&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="k">SUM</span><span class="w"> </span><span class="p">(</span><span class="n">DECODE</span><span class="w"> </span><span class="p">(</span><span class="n">TO_CHAR</span><span class="w"> </span><span class="p">(</span><span class="n">COMPLETION_TIME</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;HH24&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;20&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="p">))</span>
<span class="w">            </span><span class="ss">&quot;20-21&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="k">SUM</span><span class="w"> </span><span class="p">(</span><span class="n">DECODE</span><span class="w"> </span><span class="p">(</span><span class="n">TO_CHAR</span><span class="w"> </span><span class="p">(</span><span class="n">COMPLETION_TIME</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;HH24&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;21&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="p">))</span>
<span class="w">            </span><span class="ss">&quot;21-22&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="k">SUM</span><span class="w"> </span><span class="p">(</span><span class="n">DECODE</span><span class="w"> </span><span class="p">(</span><span class="n">TO_CHAR</span><span class="w"> </span><span class="p">(</span><span class="n">COMPLETION_TIME</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;HH24&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;22&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="p">))</span>
<span class="w">            </span><span class="ss">&quot;22-23&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="k">SUM</span><span class="w"> </span><span class="p">(</span><span class="n">DECODE</span><span class="w"> </span><span class="p">(</span><span class="n">TO_CHAR</span><span class="w"> </span><span class="p">(</span><span class="n">COMPLETION_TIME</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;HH24&#39;</span><span class="p">),</span><span class="w"> </span><span class="s1">&#39;23&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="p">))</span>
<span class="w">            </span><span class="ss">&quot;23-00&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="k">COUNT</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="n">TOTAL</span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="n">V$ARCHIVED_LOG</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">ARCHIVED</span><span class="o">=</span><span class="s1">&#39;YES&#39;</span>
<span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">TO_CHAR</span><span class="w"> </span><span class="p">(</span><span class="n">COMPLETION_TIME</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;DD/MM/YYYY&#39;</span><span class="p">)</span>
<span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">TO_DATE</span><span class="w"> </span><span class="p">(</span><span class="k">DAY</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;DD/MM/YYYY&#39;</span><span class="p">);</span>
</code></pre></div>
&nbsp;</p>
<h2 id="datapump">Datapump</h2>
<h3 id="realiser-un-export-datapump">Réaliser un export DATAPUMP</h3>
<div class="highlight"><pre><span></span><code><span class="n">expdp</span><span class="w"> </span><span class="err">\</span><span class="ss">&quot;/ as sysdba\&quot;</span><span class="w"> </span><span class="n">SCHEMAS</span><span class="o">=</span><span class="n">metier</span><span class="w"> </span><span class="n">DIRECTORY</span><span class="o">=</span><span class="n">DATA_PUMP_DIR</span><span class="w"> </span><span class="n">DUMPFILE</span><span class="o">=</span><span class="n">metier</span><span class="p">.</span><span class="n">dmp</span><span class="w"> </span><span class="n">LOGFILE</span><span class="o">=</span><span class="n">metier</span><span class="p">.</span><span class="n">log</span>
</code></pre></div>
<p>&nbsp;</p>
<h3 id="realiser-un-import-datapump">Réaliser un import DATAPUMP</h3>
<div class="highlight"><pre><span></span><code><span class="n">impdp</span><span class="w"> </span><span class="err">\</span><span class="ss">&quot;/ as sysdba\&quot;</span><span class="w"> </span><span class="n">SCHEMAS</span><span class="o">=</span><span class="n">metier</span><span class="w"> </span><span class="n">DIRECTORY</span><span class="o">=</span><span class="n">DATA_PUMP_DIR</span><span class="w"> </span><span class="n">DUMPFILE</span><span class="o">=</span><span class="n">metier</span><span class="p">.</span><span class="n">dmp</span><span class="w"> </span><span class="n">LOGFILE</span><span class="o">=</span><span class="n">metier</span><span class="p">.</span><span class="n">log</span>
</code></pre></div>
<p>&nbsp;</p>
<h3 id="import-avec-remap-schema">Import avec remap schéma</h3>
<div class="highlight"><pre><span></span><code><span class="n">impdp</span><span class="w"> </span><span class="err">\</span><span class="ss">&quot;/ as sysdba\&quot;</span><span class="w"> </span><span class="n">SCHEMAS</span><span class="o">=</span><span class="n">MGNADMF</span><span class="w"> </span><span class="n">DIRECTORY</span><span class="o">=</span><span class="n">DATAPUMP</span><span class="w"> </span><span class="n">DUMPFILE</span><span class="o">=</span><span class="n">MGNNATfull20160624</span><span class="p">.</span><span class="n">dmp</span><span class="w"> </span><span class="n">LOGFILE</span><span class="o">=</span><span class="n">impdp_IQ_MGNNAT_MGNRW_280616</span><span class="p">.</span><span class="n">log</span><span class="w"> </span><span class="n">REMAP_SCHEMA</span><span class="o">=</span><span class="n">MGNADMF</span><span class="p">:</span><span class="n">MGNRW</span>
</code></pre></div>
<blockquote>
<p class="is-info">Options Possible :
<code>TABLE_EXISTS_ACTION = SKIP | APPEND | TRUNCATE | REPLACE</code></p>
</blockquote>
<p>&nbsp;</p>
<h3 id="purger-les-donnees-dun-schema">Purger les données d'un schéma</h3>
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="s1">&#39;DROP &#39;</span><span class="o">||</span><span class="n">OBJECT_TYPE</span><span class="o">||</span><span class="s1">&#39; &#39;</span><span class="o">||</span><span class="k">OWNER</span><span class="o">||</span><span class="s1">&#39;.&#39;</span><span class="o">||</span><span class="n">OBJECT_NAME</span><span class="o">||</span><span class="s1">&#39;;&#39;</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dba_objects</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="k">owner</span><span class="o">=</span><span class="s1">&#39;GAGCVEILLE&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">OBJECT_TYPE</span><span class="o">&lt;&gt;</span><span class="s1">&#39;INDEX&#39;</span><span class="p">;</span>
</code></pre></div>
<p>&nbsp;</p>
<h3 id="purger-la-corbeille">Purger la corbeille</h3>
<div class="highlight"><pre><span></span><code><span class="n">purge</span><span class="w"> </span><span class="n">dba_recyclebin</span><span class="p">;</span>
</code></pre></div>
<p>&nbsp;</p>
<h3 id="gestion-du-directory-datapump">Gestion du directory DATAPUMP</h3>
<div class="highlight"><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="k">replace</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="s1">&#39;G:\..\..&#39;</span><span class="p">;</span>

<span class="k">GRANT</span><span class="w"> </span><span class="k">read</span><span class="p">,</span><span class="w"> </span><span class="k">write</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">DIRECTORY</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">;</span>

<span class="k">drop</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="s1">&#39;.....&#39;</span><span class="w"> </span><span class="p">;</span>
</code></pre></div>
<p>&nbsp;</p>
<h3 id="monitorer-les-jobs-datapump">Monitorer les jobs DATAPUMP</h3>
<p><div class="highlight"><pre><span></span><code><span class="n">COL</span><span class="w"> </span><span class="n">OWNER_NAME</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">A11</span>
<span class="n">COL</span><span class="w"> </span><span class="n">JOB_NAME</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">A20</span>
<span class="n">COL</span><span class="w"> </span><span class="k">OPERATION</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">A11</span>
<span class="n">COL</span><span class="w"> </span><span class="n">JOB_MODE</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">A9</span>
<span class="n">COL</span><span class="w"> </span><span class="k">STATE</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">A12</span>
<span class="k">SET</span><span class="w"> </span><span class="n">LINESIZE</span><span class="w"> </span><span class="mi">120</span>

<span class="k">Select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">DBA_DATAPUMP_JOBS</span><span class="p">;</span>
</code></pre></div>
ou
<div class="highlight"><pre><span></span><code><span class="k">set</span><span class="w"> </span><span class="n">lines</span><span class="w"> </span><span class="mi">200</span>
<span class="n">col</span><span class="w"> </span><span class="n">owner_name</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="n">a10</span><span class="p">;</span>
<span class="n">col</span><span class="w"> </span><span class="k">state</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="n">a11</span>
<span class="n">col</span><span class="w"> </span><span class="k">operation</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="k">state</span>
<span class="n">col</span><span class="w"> </span><span class="n">job_mode</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="k">state</span>

<span class="k">select</span><span class="w"> </span><span class="n">owner_name</span><span class="p">,</span><span class="w"> </span><span class="n">job_name</span><span class="p">,</span><span class="w"> </span><span class="k">operation</span><span class="p">,</span><span class="w"> </span><span class="n">job_mode</span><span class="p">,</span><span class="w"> </span><span class="k">state</span><span class="p">,</span><span class="w"> </span><span class="n">attached_sessions</span>
<span class="k">from</span><span class="w"> </span><span class="n">dba_datapump_jobs</span>
<span class="k">where</span><span class="w"> </span><span class="n">job_name</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s1">&#39;BIN$%&#39;</span>
<span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">;</span>
</code></pre></div></p>
<p>&nbsp;</p>
<h3 id="killer-les-jobs-datapump">Killer les jobs DATAPUMP</h3>
<div class="highlight"><pre><span></span><code><span class="k">PENDANT</span>
<span class="o">&lt;</span><span class="n">code</span><span class="w"> </span><span class="k">sql</span><span class="o">&gt;</span>
<span class="n">CTRL</span><span class="o">-</span><span class="k">C</span>
<span class="n">stop_job</span><span class="o">=</span><span class="k">immediate</span>
<span class="n">yes</span>


<span class="n">APRES</span>
<span class="o">&lt;</span><span class="n">code</span><span class="w"> </span><span class="k">sql</span><span class="o">&gt;</span>
<span class="k">set</span><span class="w"> </span><span class="n">serveroutput</span><span class="w"> </span><span class="k">on</span>
<span class="k">set</span><span class="w"> </span><span class="n">lines</span><span class="w"> </span><span class="mi">100</span>
<span class="k">declare</span>
<span class="n">h1</span><span class="w"> </span><span class="nb">number</span><span class="p">;</span>
<span class="k">begin</span>
<span class="err">—</span><span class="w"> </span><span class="n">Format</span><span class="p">:</span><span class="w"> </span><span class="n">dbms_datapump</span><span class="p">.</span><span class="n">attach</span><span class="p">(</span><span class="s1">&#39;[job_name]&#39;</span><span class="p">,</span><span class="s1">&#39;[owner_name]&#39;</span><span class="p">);</span>
<span class="n">h1</span><span class="w"> </span><span class="p">:</span><span class="o">=</span><span class="w"> </span><span class="n">dbms_datapump</span><span class="p">.</span><span class="n">attach</span><span class="p">(</span><span class="s1">&#39;SYS_EXPORT_SCHEMA_01&#39;</span><span class="p">,</span><span class="s1">&#39;SYS&#39;</span><span class="p">);</span>
<span class="n">dbms_datapump</span><span class="p">.</span><span class="n">stop_job</span><span class="w"> </span><span class="p">(</span><span class="n">h1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
<span class="k">end</span><span class="p">;</span>
<span class="o">/</span>
</code></pre></div>
<p>&nbsp;</p>
<h3 id="dropper-les-jobs-datapump-inutile">Dropper les jobs DATAPUMP inutile</h3>
<div class="highlight"><pre><span></span><code><span class="k">DROP</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">SYS</span><span class="p">.</span><span class="n">SYS_IMPORT_FULL_01</span><span class="p">;</span>
<span class="k">DROP</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">SYS</span><span class="p">.</span><span class="n">SYS_EXPORT_FULL_01</span><span class="p">;</span>
<span class="k">DROP</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">SYS</span><span class="p">.</span><span class="n">SYS_IMPORT_SCHEMA_01</span><span class="p">;</span>
<span class="k">DROP</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">SYS</span><span class="p">.</span><span class="n">SYS_EXPORT_SCHEMA_01</span><span class="p">;</span>
</code></pre></div>
<h3 id="monter-un-partage-cifs-pour-export-datapump">Monter un partage CIFS pour export DATAPUMP</h3>
<div class="highlight"><pre><span></span><code><span class="n">mount</span><span class="p">.</span><span class="n">cifs</span><span class="w"> </span><span class="o">//</span><span class="n">stock</span><span class="o">-</span><span class="n">ora</span><span class="o">/</span><span class="n">oradump$</span><span class="o">/</span><span class="n">RepDump</span><span class="w"> </span><span class="o">/</span><span class="n">mnt</span><span class="o">/</span><span class="k">share</span><span class="w"> </span><span class="c1">--verbose -ouser=&lt;user&gt;,pass=&lt;pass&gt;,auto,uid=oracle,gid=dba 0 0</span>

<span class="w">          </span><span class="n">DISTANT</span><span class="w">                      </span><span class="k">LOCAL</span>
</code></pre></div>
<h3 id="voir-le-transfert-pendant-lexport-ou-limport-avec-le-user-sys">Voir le transfert pendant l'export ou l'import (avec le user SYS)</h3>
<div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">sid</span><span class="p">,</span><span class="w"> </span><span class="nb">serial</span><span class="o">#</span><span class="p">,</span><span class="w"> </span><span class="n">username</span><span class="p">,</span><span class="w"> </span><span class="n">program</span><span class="p">,</span><span class="w"> </span><span class="n">module</span><span class="p">,</span><span class="w"> </span><span class="n">event</span><span class="p">,</span><span class="w"> </span><span class="n">seconds_in_wait</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">v$session</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;SYS&#39;</span><span class="p">;</span>
</code></pre></div>
<p>&nbsp;</p>
<h2 id="dataguard">Dataguard</h2>
<h3 id="verifier-la-bonne-replication-des-archlogs">Vérifier la bonne réplication des archlogs</h3>
<p>==&gt; Sur le serveur primaire
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">THREAD</span><span class="o">#</span><span class="p">,</span><span class="w"> </span><span class="n">SEQUENCE</span><span class="o">#</span><span class="p">,</span><span class="w"> </span><span class="n">ARCHIVED</span><span class="p">,</span><span class="w"> </span><span class="n">APPLIED</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">V$ARCHIVED_LOG</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">RECID</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="k">MAX</span><span class="p">(</span><span class="n">RECID</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">V$ARCHIVED_LOG</span><span class="p">);</span>
</code></pre></div>
==&gt; Sur le serveur de secours
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">ARCH</span><span class="p">.</span><span class="n">THREAD</span><span class="o">#</span><span class="w"> </span><span class="ss">&quot;THREAD&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">ARCH</span><span class="p">.</span><span class="n">SEQUENCE</span><span class="o">#</span><span class="w"> </span><span class="ss">&quot;LAST_RECEIVED&quot;</span><span class="p">,</span>
<span class="n">APPL</span><span class="p">.</span><span class="n">SEQUENCE</span><span class="o">#</span><span class="w"> </span><span class="ss">&quot;LAST_APPLIED&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">ARCH</span><span class="p">.</span><span class="n">SEQUENCE</span><span class="o">#</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">APPL</span><span class="p">.</span><span class="n">SEQUENCE</span><span class="o">#</span><span class="p">)</span><span class="w"> </span><span class="ss">&quot;DIFFERENCE&quot;</span>
<span class="k">FROM</span>
<span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">THREAD</span><span class="o">#</span><span class="w"> </span><span class="p">,</span><span class="n">SEQUENCE</span><span class="o">#</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">V$ARCHIVED_LOG</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="p">(</span><span class="n">THREAD</span><span class="o">#</span><span class="p">,</span><span class="n">FIRST_TIME</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">IN</span>
<span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">THREAD</span><span class="o">#</span><span class="p">,</span><span class="k">MAX</span><span class="p">(</span><span class="n">FIRST_TIME</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">V$ARCHIVED_LOG</span><span class="w"> </span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">THREAD</span><span class="o">#</span><span class="p">))</span><span class="w"> </span><span class="n">ARCH</span><span class="p">,</span>
<span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">THREAD</span><span class="o">#</span><span class="w"> </span><span class="p">,</span><span class="n">SEQUENCE</span><span class="o">#</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">V$LOG_HISTORY</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="p">(</span><span class="n">THREAD</span><span class="o">#</span><span class="p">,</span><span class="n">FIRST_TIME</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">IN</span>
<span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">THREAD</span><span class="o">#</span><span class="p">,</span><span class="k">MAX</span><span class="p">(</span><span class="n">FIRST_TIME</span><span class="p">)</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">V$LOG_HISTORY</span><span class="w"> </span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">THREAD</span><span class="o">#</span><span class="p">))</span><span class="w"> </span><span class="n">APPL</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">ARCH</span><span class="p">.</span><span class="n">THREAD</span><span class="o">#</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">APPL</span><span class="p">.</span><span class="n">THREAD</span><span class="o">#</span>
<span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</code></pre></div>
&nbsp;</p>
<h3 id="verifier-letat-des-process-darchivage-sur-la-stanby-mrp0-ou-sur-le-primaire-lgwr">Vérifier l'état des process d'archivage sur la stanby (MRP0) ou sur le primaire (LGWR)</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="n">process</span><span class="p">,</span><span class="n">status</span><span class="p">,</span><span class="n">sequence</span><span class="o">#</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">v$managed_standby</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">process</span><span class="o">=</span><span class="s1">&#39;LGWR&#39;</span><span class="k">or</span><span class="w"> </span><span class="n">process</span><span class="o">=</span><span class="s1">&#39;MRP0&#39;</span><span class="p">;</span>
</code></pre></div>
&nbsp;</p>
<h3 id="information-membre-dataguard">Information membre dataguard</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">set</span><span class="w"> </span><span class="n">linesize</span><span class="w"> </span><span class="mi">200</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">DATABASE_ROLE</span><span class="p">,</span><span class="w"> </span><span class="n">DB_UNIQUE_NAME</span><span class="w"> </span><span class="n">INSTANCE</span><span class="p">,</span><span class="w"> </span><span class="n">OPEN_MODE</span><span class="p">,</span>
<span class="n">PROTECTION_MODE</span><span class="p">,</span><span class="w"> </span><span class="n">PROTECTION_LEVEL</span><span class="p">,</span><span class="w"> </span><span class="n">SWITCHOVER_STATUS</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">V$DATABASE</span><span class="p">;</span>
</code></pre></div>
&nbsp;</p>
<h3 id="message-du-status-dataguard">Message du status Dataguard</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">set</span><span class="w"> </span><span class="n">linesize</span><span class="w"> </span><span class="mi">150</span>
<span class="n">COL</span><span class="w"> </span><span class="ss">&quot;MESSAGE&quot;</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="mi">50</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">ERROR_CODE</span><span class="p">,</span><span class="w"> </span><span class="n">MESSAGE</span><span class="w">  </span><span class="k">FROM</span><span class="w"> </span><span class="n">V$DATAGUARD_STATUS</span><span class="p">;</span>
</code></pre></div>
&nbsp;</p>
<h3 id="verifier-quil-ny-a-aucun-gap">Vérifier qu'il n'y a aucun GAP</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">v$archive_gap</span><span class="p">;</span>
</code></pre></div>
&nbsp;</p>
<h3 id="relancer-la-replication-des-archlogs-sur-la-standby">Relancer la réplication des archlogs sur la STANDBY</h3>
<p><div class="highlight"><pre><span></span><code><span class="n">ARRET</span>
<span class="k">alter</span><span class="w"> </span><span class="k">database</span><span class="w"> </span><span class="n">recover</span><span class="w"> </span><span class="n">managed</span><span class="w"> </span><span class="n">standby</span><span class="w"> </span><span class="k">database</span><span class="w"> </span><span class="n">cancel</span><span class="p">;</span>

<span class="n">RELANCE</span>
<span class="k">alter</span><span class="w"> </span><span class="k">database</span><span class="w"> </span><span class="n">recover</span><span class="w"> </span><span class="n">managed</span><span class="w"> </span><span class="n">standby</span><span class="w"> </span><span class="k">database</span><span class="w"> </span><span class="k">using</span><span class="w"> </span><span class="k">current</span><span class="w"> </span><span class="n">logfile</span><span class="w"> </span><span class="k">disconnect</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">session</span><span class="p">;</span>
</code></pre></div>
&nbsp;</p>
<h3 id="faire-un-switchover-sans-broker-primaire-puis-standby">Faire un "switchover" sans broker (primaire puis standby)</h3>
<p><div class="highlight"><pre><span></span><code><span class="o">//</span><span class="n">Sur</span><span class="w"> </span><span class="n">le</span><span class="w"> </span><span class="n">PRIMAIRE</span>
<span class="k">alter</span><span class="w"> </span><span class="k">database</span><span class="w"> </span><span class="k">commit</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">switchover</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">physical</span><span class="w"> </span><span class="n">standby</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="k">session</span><span class="w"> </span><span class="n">shutdown</span><span class="p">;</span>
<span class="n">shutdown</span><span class="w"> </span><span class="k">immediate</span><span class="p">;</span>
<span class="n">startup</span><span class="w"> </span><span class="n">nomount</span><span class="p">;</span>
<span class="k">alter</span><span class="w"> </span><span class="k">database</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">standby</span><span class="w"> </span><span class="k">database</span><span class="p">;</span>
<span class="k">alter</span><span class="w"> </span><span class="k">database</span><span class="w"> </span><span class="n">recover</span><span class="w"> </span><span class="n">managed</span><span class="w"> </span><span class="n">standby</span><span class="w"> </span><span class="k">database</span><span class="w"> </span><span class="k">disconnect</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">session</span><span class="p">;</span>

<span class="o">//</span><span class="n">Sur</span><span class="w"> </span><span class="n">le</span><span class="w"> </span><span class="n">STANDBY</span>
<span class="o">&lt;</span><span class="n">code</span><span class="w"> </span><span class="k">sql</span><span class="o">&gt;</span>
<span class="k">alter</span><span class="w"> </span><span class="k">database</span><span class="w"> </span><span class="n">recover</span><span class="w"> </span><span class="n">managed</span><span class="w"> </span><span class="n">standby</span><span class="w"> </span><span class="k">database</span><span class="w"> </span><span class="n">cancel</span><span class="p">;</span>
<span class="k">alter</span><span class="w"> </span><span class="k">database</span><span class="w"> </span><span class="k">commit</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">switchover</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">primary</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="k">session</span><span class="w"> </span><span class="n">shutdown</span><span class="p">;</span>
<span class="k">alter</span><span class="w"> </span><span class="k">database</span><span class="w"> </span><span class="k">open</span><span class="p">;</span>
<span class="k">alter</span><span class="w"> </span><span class="k">system</span><span class="w"> </span><span class="k">set</span><span class="w"> </span><span class="n">LOG_ARCHIVE_DEST_STATE_2</span><span class="o">=</span><span class="n">ENABLE</span><span class="w"> </span><span class="k">scope</span><span class="o">=</span><span class="k">both</span><span class="p">;</span>
</code></pre></div>
&nbsp;</p>
<h3 id="creation-dune-standby-par-replication">Création d'une STANDBY par réplication</h3>
<p>Premièrement, créer l'arborescence nécessaire sur la standby (oradata, oraredolog, oraarch, oractl, admin)
puis : 
<div class="highlight"><pre><span></span><code><span class="n">rman</span>
<span class="k">connect</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="n">sys</span><span class="o">/</span><span class="n">change_on_install</span><span class="o">@</span><span class="n">black</span>
<span class="k">connect</span><span class="w"> </span><span class="n">auxiliary</span><span class="w"> </span><span class="n">sys</span><span class="o">/</span><span class="n">change_on_install</span><span class="o">@</span><span class="n">white</span>
</code></pre></div>
Et enfin, on lance le clonage :
<div class="highlight"><pre><span></span><code><span class="n">DUPLICATE</span><span class="w"> </span><span class="n">TARGET</span><span class="w"> </span><span class="k">DATABASE</span>
<span class="w">     </span><span class="k">FOR</span><span class="w"> </span><span class="n">STANDBY</span>
<span class="w">     </span><span class="k">FROM</span><span class="w"> </span><span class="n">ACTIVE</span><span class="w"> </span><span class="k">DATABASE</span>
<span class="w">     </span><span class="n">DB_FILE_NAME_CONVERT</span><span class="w"> </span><span class="s1">&#39;BLACK&#39;</span><span class="p">,</span><span class="s1">&#39;WHITE&#39;</span>
<span class="w">     </span><span class="n">SPFILE</span>
<span class="w">      </span><span class="n">PARAMETER_VALUE_CONVERT</span><span class="w"> </span><span class="s1">&#39;BLACK&#39;</span><span class="p">,</span><span class="s1">&#39;WHITE&#39;</span>
<span class="w">      </span><span class="k">SET</span><span class="w"> </span><span class="n">LOG_FILE_NAME_CONVERT</span><span class="w"> </span><span class="s1">&#39;BLACK&#39;</span><span class="p">,</span><span class="s1">&#39;WHITE&#39;</span>
<span class="w">      </span><span class="k">SET</span><span class="w"> </span><span class="n">DB_UNIQUE_NAME</span><span class="w"> </span><span class="s1">&#39;WHITE&#39;</span><span class="p">;</span>
</code></pre></div></p>
<blockquote>
<p class="is-warning">Ne pas oublier de créer les redologs sur la standby</p>
</blockquote>
<p>&nbsp;</p>
<h2 id="fsfo">FSFO</h2>
<h3 id="verifier-le-status-fsfo">Vérifier le status FSFO</h3>
<p>Avec SQLPLUS
<div class="highlight"><pre><span></span><code><span class="k">set</span><span class="w"> </span><span class="n">linesize</span><span class="w"> </span><span class="mi">300</span>
<span class="n">COL</span><span class="w"> </span><span class="ss">&quot;FS_FAILOVER_OBSERVER_HOST&quot;</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">A25</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">fs_failover_status</span><span class="p">,</span><span class="w"> </span><span class="n">fs_failover_current_target</span><span class="p">,</span>
<span class="n">fs_failover_threshold</span><span class="p">,</span><span class="w"> </span><span class="n">fs_failover_observer_present</span><span class="p">,</span>
<span class="n">fs_failover_observer_host</span><span class="w"> </span>
<span class="k">FROM</span><span class="w"> </span><span class="n">v$database</span><span class="p">;</span>
</code></pre></div>
Avec DMGR
<div class="highlight"><pre><span></span><code><span class="k">SHOW</span><span class="w"> </span><span class="n">FAST_START</span><span class="w"> </span><span class="n">FAILOVER</span><span class="p">;</span>
</code></pre></div></p>
<p>&nbsp;</p>
<h3 id="temps-de-reconnexion-fsfo">Temps de reconnexion FSFO</h3>
<blockquote>
<p class="is-info">Définit le temps au bout duquel l'observer considère la base primaire KO avant de basculer sur la standby</p>
</blockquote>
<p>==&gt; DMGR
<div class="highlight"><pre><span></span><code><span class="n">EDIT</span><span class="w"> </span><span class="n">CONFIGURATION</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">PROPERTY</span><span class="w"> </span><span class="n">FastStartFailoverThreshold</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;120&#39;</span><span class="p">;</span>
</code></pre></div>
==&gt; SQLPLUS
<div class="highlight"><pre><span></span><code><span class="k">set</span><span class="w"> </span><span class="n">linesize</span><span class="w"> </span><span class="mi">200</span>
<span class="n">COL</span><span class="w"> </span><span class="ss">&quot;LAST_FAILOVER_REASON&quot;</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">A25</span>
<span class="k">SELECT</span><span class="w"> </span><span class="n">LAST_FAILOVER_TIME</span><span class="p">,</span><span class="w"> </span><span class="n">LAST_FAILOVER_REASON</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">V$FS_FAILOVER_STATS</span><span class="p">;</span>
</code></pre></div></p>
<p>&nbsp;</p>
<h2 id="datafile">Datafile</h2>
<h3 id="resize-datafile">Resize datafile</h3>
<div class="highlight"><pre><span></span><code><span class="k">alter</span><span class="w"> </span><span class="k">database</span><span class="w"> </span><span class="n">datafile</span><span class="w"> </span><span class="s1">&#39;/appli/oracle/SF0NAT/oradata01/SF0NAT_sysaux_01.dbf&#39;</span><span class="w"> </span><span class="n">resize</span><span class="w"> </span><span class="mi">2048</span><span class="n">M</span><span class="p">;</span>
</code></pre></div>
<p>&nbsp;</p>
<h3 id="ajout-datafile">Ajout datafile</h3>
<div class="highlight"><pre><span></span><code><span class="k">alter</span><span class="w"> </span><span class="n">tablespace</span><span class="w"> </span><span class="n">XXXX</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="n">datafile</span><span class="w"> </span><span class="s1">&#39;/appli/oracle/SF0NAT/oradata01/SF0NAT_sysaux_01.dbf&#39;</span><span class="w"> </span><span class="k">size</span><span class="w"> </span><span class="mi">2048</span><span class="n">M</span><span class="p">;</span>
</code></pre></div>
<p>&nbsp;</p>
<h2 id="redolog">Redolog</h2>
<h3 id="supprimer-les-redologs">Supprimer les redologs</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">alter</span><span class="w"> </span><span class="k">database</span><span class="w"> </span><span class="k">drop</span><span class="w"> </span><span class="n">LOGFILE</span><span class="w"> </span><span class="k">GROUP</span><span class="w"> </span><span class="n">XX</span><span class="p">;</span>
</code></pre></div>
&nbsp;</p>
<h3 id="informations-detaillees-sur-ls-redologs-online-only">Informations détaillées sur ls redologs (ONLINE only)</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">set</span><span class="w"> </span><span class="n">linesize</span><span class="w"> </span><span class="mi">400</span>
<span class="n">COL</span><span class="w"> </span><span class="ss">&quot;MEMBER&quot;</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">A80</span>
<span class="k">select</span><span class="w"> </span><span class="n">l</span><span class="p">.</span><span class="k">GROUP</span><span class="o">#</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="n">l</span><span class="p">.</span><span class="n">THREAD</span><span class="o">#</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="n">l</span><span class="p">.</span><span class="n">SEQUENCE</span><span class="o">#</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="n">l</span><span class="p">.</span><span class="n">BYTES</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="n">l</span><span class="p">.</span><span class="n">MEMBERS</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="n">l</span><span class="p">.</span><span class="n">STATUS</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="n">f</span><span class="p">.</span><span class="k">TYPE</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="n">f</span><span class="p">.</span><span class="n">MEMBER</span><span class="w"> </span>
<span class="k">from</span><span class="w"> </span><span class="n">V$LOGFILE</span><span class="w"> </span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="n">V$LOG</span><span class="w"> </span><span class="n">l</span><span class="w"> </span>
<span class="k">where</span><span class="w"> </span><span class="n">l</span><span class="p">.</span><span class="k">GROUP</span><span class="o">#</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="p">.</span><span class="k">GROUP</span><span class="o">#</span><span class="w"> </span>
<span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="k">GROUP</span><span class="o">#</span><span class="p">,</span><span class="n">MEMBER</span><span class="p">;</span>
</code></pre></div>
&nbsp;</p>
<h3 id="infos-redologs-complet">Infos redologs complet</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">v$logfile</span><span class="p">;</span>
</code></pre></div>
&nbsp;</p>
<h3 id="status-redologs">Status redologs</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">set</span><span class="w"> </span><span class="n">linesize</span><span class="w"> </span><span class="mi">200</span>
<span class="k">SELECT</span><span class="w"> </span><span class="k">GROUP</span><span class="o">#</span><span class="p">,</span><span class="w"> </span><span class="n">BYTES</span><span class="p">,</span><span class="w"> </span><span class="n">STATUS</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ONLINE&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">TYPE</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">V$LOG</span>
<span class="k">UNION</span>
<span class="k">SELECT</span><span class="w"> </span><span class="k">GROUP</span><span class="o">#</span><span class="p">,</span><span class="w"> </span><span class="n">BYTES</span><span class="p">,</span><span class="w"> </span><span class="n">STATUS</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;STANDBY&#39;</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">TYPE</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">V$STANDBY_LOG</span>
<span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</code></pre></div>
&nbsp;</p>
<h2 id="spfile-et-controlfile">Spfile et Controlfile</h2>
<h3 id="editer-un-fichier-controlfile-pour-analyse">Editer un fichier controlfile pour analyse</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">ALTER</span><span class="w"> </span><span class="k">DATABASE</span><span class="w"> </span><span class="n">BACKUP</span><span class="w"> </span><span class="n">CONTROLFILE</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s1">&#39;/u01/control.bkp&#39;</span>
</code></pre></div>
&nbsp;</p>
<h3 id="generer-un-fichier-init-ou-spfile">Générer un fichier init ou spfile</h3>
<div class="highlight"><pre><span></span><code><span class="k">create</span><span class="w"> </span><span class="n">pfile</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">spfile</span><span class="o">=</span><span class="s1">&#39;/home/oracle/admin/OPHNAT/dbs/spfile.ora&#39;</span>
<span class="k">create</span><span class="w"> </span><span class="n">spfile</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">pfile</span><span class="o">=</span><span class="s1">&#39;/home/oracle/admin/OPHNAT/dbs/pfile.ora&#39;</span>
</code></pre></div>
<blockquote>
<p class="is-info">en cas de perte du paramètre SPFILE, on peux générer un PFILE depuis la mémoire
<code>create pfile from memory</code></p>
</blockquote>
<p>&nbsp;</p>
<h3 id="savoir-si-la-base-a-demarre-avec-le-pfile-ou-le-spfile">Savoir si la base a démarré avec le pfile ou le spfile</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">DECODE</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;PFILE&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;SPFILE&#39;</span><span class="p">)</span><span class="w"> </span><span class="ss">&quot;Init File Type&quot;</span><span class="w"> </span>
<span class="w">       </span><span class="k">FROM</span><span class="w"> </span><span class="n">sys</span><span class="p">.</span><span class="n">v_$parameter</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;spfile&#39;</span><span class="p">;</span>
</code></pre></div>
&nbsp;</p>
<h2 id="inclassable">Inclassable</h2>
<h3 id="generer-un-rapport-awr">Générer un rapport AWR</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">SQL</span><span class="o">&gt;</span><span class="w"> </span><span class="o">@?/</span><span class="n">rdbms</span><span class="o">/</span><span class="k">admin</span><span class="o">/</span><span class="n">awrrpt</span><span class="p">.</span><span class="k">sql</span>

<span class="n">html</span><span class="w"> </span><span class="n">ou</span><span class="w"> </span><span class="nb">text</span>
<span class="mi">1</span><span class="n">er</span><span class="w"> </span><span class="n">param</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">Nb</span><span class="w"> </span><span class="n">de</span><span class="w"> </span><span class="n">rapport</span><span class="w"> </span><span class="err">à</span><span class="w"> </span><span class="n">afficher</span><span class="w"> </span><span class="n">pour</span><span class="w"> </span><span class="n">sélection</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">en</span><span class="w"> </span><span class="n">jour</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="n">depuis</span><span class="w"> </span><span class="n">maintenant</span>
<span class="mi">2</span><span class="n">eme</span><span class="w"> </span><span class="n">param</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">Snapshot</span><span class="w"> </span><span class="n">début</span>
<span class="mi">3</span><span class="n">eme</span><span class="w"> </span><span class="n">param</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">Snapshot</span><span class="w"> </span><span class="n">fin</span>
</code></pre></div>
&nbsp;</p>
<h3 id="supprimer-les-anciens-rapport-awr">Supprimer les anciens rapport AWR</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">connect</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">sysdba</span><span class="w"> </span>
<span class="o">@?/</span><span class="n">rdbms</span><span class="o">/</span><span class="k">admin</span><span class="o">/</span><span class="n">catnoawr</span><span class="p">.</span><span class="k">sql</span><span class="w"> </span>
<span class="o">@?/</span><span class="n">rdbms</span><span class="o">/</span><span class="k">admin</span><span class="o">/</span><span class="n">catawrtb</span><span class="p">.</span><span class="k">sql</span><span class="w"> </span>
</code></pre></div>
&nbsp;</p>
<h3 id="afficher-et-modifier-les-parametres-systeme">Afficher et modifier les paramètres système</h3>
<div class="highlight"><pre><span></span><code><span class="k">SQL</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="k">parameter</span>
<span class="k">SQL</span><span class="o">&gt;</span><span class="w"> </span><span class="k">ALTER</span><span class="w"> </span><span class="k">SYSTEM</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="p">[</span><span class="n">Param</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">valeur</span><span class="p">]</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">[</span><span class="k">COMMENT</span><span class="o">=</span><span class="s1">&#39;texte&#39;</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="n">DEFERED</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="k">SCOPE</span><span class="o">=</span><span class="n">MEMORY</span><span class="o">|</span><span class="n">SPFILE</span><span class="o">|</span><span class="k">BOTH</span><span class="p">];</span>
</code></pre></div>
<blockquote>
<p class="is-info">DEFERED : Si présente, indique que la modification ne concerne que les futures sessions (peut être obligatoire)
    SCOPE : Définit la cible de la modification
    MEMORY:la mémoire seulement 
    SPFILE:le fichier de paramètres serveur seulement 
    BOTH:les deux </p>
</blockquote>
<p>&nbsp;</p>
<h3 id="afficher-le-dernier-reboot-de-la-base">Afficher le dernier reboot de la base</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">set</span><span class="w"> </span><span class="n">pagesize</span><span class="w"> </span><span class="mi">300</span>
<span class="k">set</span><span class="w"> </span><span class="n">linesize</span><span class="w"> </span><span class="mi">300</span>
<span class="k">select</span><span class="w"> </span><span class="n">to_char</span><span class="p">(</span><span class="n">startup_time</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;HH24:MI DD-MON-YY&#39;</span><span class="p">)</span><span class="w"> </span><span class="ss">&quot;Startup time&quot;</span>
<span class="k">from</span><span class="w"> </span><span class="n">v$instance</span>
</code></pre></div>
&nbsp;</p>
<h3 id="connaitre-les-parametres-de-langue">Connaitre les paramètres de langue</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">nls_database_parameters</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="k">parameter</span><span class="w"> </span><span class="k">IN</span><span class="w"> </span><span class="p">(</span><span class="err">‘</span><span class="n">NLS_LANGUAGE</span><span class="err">’</span><span class="p">,</span><span class="s1">&#39;NLS_TERRITORY’,&#39;</span><span class="n">NLS_CHARACTERSET</span><span class="err">’</span><span class="p">);</span>
</code></pre></div>
&nbsp;</p>
<h3 id="personnaliser-son-sqlplus">Personnaliser son SQLPLUS</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">SET</span><span class="w"> </span><span class="n">sqlprompt</span><span class="w"> </span><span class="ss">&quot;&amp;_USER@&amp;_CONNECT_IDENTIFIER &amp;_PRIVILEGE&gt; &quot;</span>
</code></pre></div>
&nbsp;</p>
<h3 id="formater-affichage-sqlplus">Formater affichage SQLPLUS</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">COLUMN</span><span class="w"> </span><span class="o">&lt;</span><span class="n">nom_colonne</span><span class="o">&gt;</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">A30</span><span class="p">;</span>
</code></pre></div>
&nbsp;</p>
<h3 id="lister-les-objets-invalide">Lister les objets invalide</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">SET</span><span class="w"> </span><span class="n">ECHO</span><span class="w">        </span><span class="k">OFF</span>
<span class="k">SET</span><span class="w"> </span><span class="n">HEADING</span><span class="w">     </span><span class="k">ON</span>
<span class="k">SET</span><span class="w"> </span><span class="n">LINESIZE</span><span class="w">    </span><span class="mi">1800</span>
<span class="k">SET</span><span class="w"> </span><span class="n">PAGESIZE</span><span class="w">    </span><span class="mi">50000</span>

<span class="n">COL</span><span class="w"> </span><span class="k">owner</span><span class="w">   </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">a25</span><span class="w">  </span><span class="n">HEADING</span><span class="w"> </span><span class="s1">&#39;Owner&#39;</span>
<span class="n">COL</span><span class="w"> </span><span class="n">object_name</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">a30</span><span class="w">  </span><span class="n">HEADING</span><span class="w"> </span><span class="s1">&#39;Object Name&#39;</span>
<span class="n">COL</span><span class="w"> </span><span class="n">object_type</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">a20</span><span class="w">  </span><span class="n">HEADING</span><span class="w"> </span><span class="s1">&#39;Object Type&#39;</span>
<span class="n">COL</span><span class="w"> </span><span class="n">object_id</span><span class="w">   </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">a20</span><span class="w">  </span><span class="n">HEADING</span><span class="w"> </span><span class="s1">&#39;Object ID&#39;</span>
<span class="n">COL</span><span class="w"> </span><span class="n">status</span><span class="w">  </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">a10</span><span class="w">  </span><span class="n">HEADING</span><span class="w"> </span><span class="s1">&#39;Status&#39;</span>

<span class="n">BREAK</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">owner</span><span class="w"> </span><span class="n">SKIP</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">report</span>
<span class="n">COMPUTE</span><span class="w"> </span><span class="k">count</span><span class="w"> </span><span class="n">LABEL</span><span class="w"> </span><span class="ss">&quot;&quot;</span><span class="w"> </span><span class="k">OF</span><span class="w"> </span><span class="n">object_name</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">owner</span>

<span class="k">SELECT</span>
<span class="w">    </span><span class="k">owner</span>
<span class="w">  </span><span class="p">,</span><span class="w"> </span><span class="n">object_name</span>
<span class="w">  </span><span class="p">,</span><span class="w"> </span><span class="n">object_type</span>
<span class="w">  </span><span class="p">,</span><span class="w"> </span><span class="n">status</span>
<span class="w">  </span><span class="p">,</span><span class="w"> </span><span class="n">object_id</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">dba_objects</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="s1">&#39;VALID&#39;</span>
<span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="k">owner</span><span class="p">,</span><span class="w"> </span><span class="n">object_name</span>
<span class="o">/</span>
</code></pre></div>
&nbsp;</p>
<h3 id="status-de-la-registry-oracle-catproccatlog">Status de la registry Oracle (catproc,catlog)</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">set</span><span class="w"> </span><span class="n">pages</span><span class="w"> </span><span class="mi">1000</span>
<span class="k">set</span><span class="w"> </span><span class="n">lines</span><span class="w"> </span><span class="mi">120</span>
<span class="n">col</span><span class="w"> </span><span class="n">comp_id</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="n">a20</span>
<span class="n">col</span><span class="w"> </span><span class="n">comp_name</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="n">a40</span>
<span class="n">col</span><span class="w"> </span><span class="k">version</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="n">a10</span>
<span class="n">col</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="n">a15</span>
<span class="k">select</span><span class="w"> </span><span class="n">comp_id</span><span class="p">,</span><span class="n">comp_name</span><span class="p">,</span><span class="k">version</span><span class="p">,</span><span class="n">status</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dba_registry</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</code></pre></div>
&nbsp;</p>
<h3 id="mode-douverture-de-la-base-allowed-ou-restrict">Mode d'ouverture de la base (ALLOWED ou RESTRICT)</h3>
<p>Au démarrage
<div class="highlight"><pre><span></span><code><span class="n">startup</span><span class="w"> </span><span class="k">restrict</span>
</code></pre></div>
Quand la base est OPEN
<div class="highlight"><pre><span></span><code><span class="k">alter</span><span class="w"> </span><span class="k">system</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="n">restricted</span><span class="w"> </span><span class="k">session</span><span class="p">;</span>
</code></pre></div>
Faire un retour arrière
<div class="highlight"><pre><span></span><code><span class="k">alter</span><span class="w"> </span><span class="k">system</span><span class="w"> </span><span class="n">disable</span><span class="w"> </span><span class="n">restricted</span><span class="w"> </span><span class="k">session</span><span class="p">;</span>
</code></pre></div>
Vérifier le retour à la normal
<div class="highlight"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">logins</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">v$instance</span><span class="p">;</span>
</code></pre></div></p>
<p>&nbsp;</p>
<h3 id="connaitre-les-options-oracle-actives">Connaitre les options oracle activés</h3>
<p>A l'installation
<div class="highlight"><pre><span></span><code><span class="k">set</span><span class="w"> </span><span class="n">pagesize</span><span class="w"> </span><span class="mi">100</span>
<span class="k">set</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="k">off</span>
<span class="n">Col</span><span class="w"> </span><span class="k">parameter</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="n">a50</span><span class="w"> </span><span class="n">heading</span><span class="w"> </span><span class="ss">&quot;Option&quot;</span>
<span class="n">Col</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="n">a5</span><span class="w">  </span><span class="n">heading</span><span class="w"> </span><span class="ss">&quot;Value&quot;</span><span class="w"> </span><span class="n">justify</span><span class="w"> </span><span class="n">center</span><span class="w"> </span><span class="n">wrap</span>
<span class="k">Select</span><span class="w"> </span><span class="k">parameter</span><span class="p">,</span><span class="w"> </span><span class="n">value</span>
<span class="k">from</span><span class="w"> </span><span class="n">v$option</span><span class="w"> </span>
<span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="k">desc</span>
<span class="o">/</span>
</code></pre></div>
A l'utilisation
<div class="highlight"><pre><span></span><code><span class="k">Set</span><span class="w"> </span><span class="n">feedback</span><span class="w"> </span><span class="k">off</span>
<span class="k">Set</span><span class="w"> </span><span class="n">linesize</span><span class="w"> </span><span class="mi">122</span>
<span class="n">Col</span><span class="w"> </span><span class="n">name</span><span class="w">             </span><span class="n">format</span><span class="w"> </span><span class="n">a45</span><span class="w">     </span><span class="n">heading</span><span class="w"> </span><span class="ss">&quot;Feature&quot;</span>
<span class="n">Col</span><span class="w"> </span><span class="k">version</span><span class="w">          </span><span class="n">format</span><span class="w"> </span><span class="n">a10</span><span class="w">     </span><span class="n">heading</span><span class="w"> </span><span class="ss">&quot;Version&quot;</span>
<span class="n">Col</span><span class="w"> </span><span class="n">detected_usages</span><span class="w">  </span><span class="n">format</span><span class="w"> </span><span class="mi">999</span><span class="p">,</span><span class="mi">990</span><span class="w"> </span><span class="n">heading</span><span class="w"> </span><span class="ss">&quot;Detected|usages&quot;</span>
<span class="n">Col</span><span class="w"> </span><span class="n">currently_used</span><span class="w">   </span><span class="n">format</span><span class="w"> </span><span class="n">a06</span><span class="w">     </span><span class="n">heading</span><span class="w"> </span><span class="ss">&quot;used&quot;</span>
<span class="n">Col</span><span class="w"> </span><span class="n">first_usage_date</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="n">a10</span><span class="w">     </span><span class="n">heading</span><span class="w"> </span><span class="ss">&quot;First use&quot;</span>
<span class="n">Col</span><span class="w"> </span><span class="n">last_usage_date</span><span class="w">  </span><span class="n">format</span><span class="w"> </span><span class="n">a10</span><span class="w">     </span><span class="n">heading</span><span class="w"> </span><span class="ss">&quot;Last use&quot;</span>
<span class="w">       </span><span class="k">select</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="k">version</span><span class="p">,</span><span class="w"> </span><span class="n">detected_usages</span><span class="p">,</span><span class="w"> </span><span class="n">currently_used</span><span class="p">,</span>
<span class="w">       </span><span class="n">to_char</span><span class="p">(</span><span class="n">first_usage_date</span><span class="p">,</span><span class="s1">&#39;DD/MM/YYYY&#39;</span><span class="p">)</span><span class="w"> </span><span class="n">first_usage_date</span><span class="p">,</span><span class="w"> </span>
<span class="w">       </span><span class="n">to_char</span><span class="p">(</span><span class="n">last_usage_date</span><span class="p">,</span><span class="s1">&#39;DD/MM/YYYY&#39;</span><span class="p">)</span><span class="w"> </span><span class="n">last_usage_date</span>
<span class="k">from</span><span class="w"> </span><span class="n">dba_feature_usage_statistics</span>
<span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;Data Mining&#39;</span><span class="p">,</span><span class="s1">&#39;Oracle Database Vault&#39;</span><span class="p">,</span><span class="s1">&#39;Label Security&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;OLAP%&#39;</span><span class="p">);</span>
</code></pre></div></p>
<p>&nbsp;</p>
<h3 id="afficher-les-services-applicatifs-oracle">Afficher les services applicatifs oracle</h3>
<p>En tant que DBA
<div class="highlight"><pre><span></span><code><span class="n">COL</span><span class="w"> </span><span class="ss">&quot;FAILOVER_METHOD&quot;</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">A15</span>
<span class="n">COL</span><span class="w"> </span><span class="ss">&quot;FAILOVER_TYPE&quot;</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">A15</span>
<span class="n">COL</span><span class="w"> </span><span class="ss">&quot;NAME&quot;</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">A15</span>
<span class="n">COL</span><span class="w"> </span><span class="ss">&quot;EDITION&quot;</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">A15</span>
<span class="n">COL</span><span class="w"> </span><span class="ss">&quot;ENABLED&quot;</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">A15</span>
<span class="n">COL</span><span class="w"> </span><span class="ss">&quot;DTP&quot;</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">A5</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">dba_services</span><span class="p">;</span>
</code></pre></div>
Sans droits DBA
<div class="highlight"><pre><span></span><code><span class="n">COL</span><span class="w"> </span><span class="ss">&quot;NETWORK_NAME&quot;</span><span class="w"> </span><span class="n">FORMAT</span><span class="w"> </span><span class="n">A15</span>
<span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">v$services</span><span class="p">;</span><span class="w"> </span>
</code></pre></div></p>
<p>&nbsp;</p>
<h3 id="personnaliser-son-sqlplus_1">Personnaliser son SQLPLUS</h3>
<p><div class="highlight"><pre><span></span><code><span class="k">SET</span><span class="w"> </span><span class="n">sqlprompt</span><span class="w"> </span><span class="ss">&quot;&amp;_USER@&amp;_CONNECT_IDENTIFIER &amp;_PRIVILEGE&gt; &quot;</span>
</code></pre></div>
&nbsp;</p>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="April 16, 2025 12:28:07">April 16, 2025</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="April 16, 2025 12:28:07">April 16, 2025</span>
  </span>

    
    
    
  </aside>





                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.indexes", "navigation.instant", "navigation.sections", "navigation.expand", "header.autohide", "content.code.copy", "content.code.annotate", "content.action.edit", "content.action.view", "toc.follow", "toc.integrate"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>